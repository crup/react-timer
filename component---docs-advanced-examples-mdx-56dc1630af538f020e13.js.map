{"version":3,"sources":["webpack:///../docs/charts-example.jsx","webpack:///../docs/advanced-examples.mdx","webpack:///../src/index.js","webpack:///../node_modules/react-charts/dist/index.js","webpack:///../node_modules/process/browser.js","webpack:///../node_modules/core-js/modules/es7.object.values.js","webpack:///../node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///../node_modules/core-js/modules/_date-to-iso-string.js","webpack:///../node_modules/core-js/modules/es6.math.log2.js","webpack:///../node_modules/core-js/modules/es6.math.log10.js","webpack:///../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///../node_modules/core-js/modules/es6.number.is-nan.js","webpack:///../node_modules/core-js/modules/es6.string.anchor.js"],"names":["MyChart","coords","axes","React","useMemo","primary","type","position","style","width","height","start","end","value","onTick","ar","Math","random","toFixed","push","data","label","renderChart","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","ReactTimer","children","interval","onEnd","useState","setValue","timerRef","useRef","useEffect","setInterval","clearInterval","PropTypes","func","_slicedToArray2","_interopDefault","ex","Object","defineProperty","exports","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","_extends","assign","arguments","source","hasOwnProperty","call","apply","this","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","_nonIterableSpread","ChartContext","createContext","Utils","getStatus","getStatusStyle","buildStyleGetters","series","defaults","focused","decorator","status","datums","datum","getMultiAnchor","_ref","x","y","anchor","points","gridWidth","gridHeight","invalid","Error","JSON","stringify","xMin","xMax","yMin","yMax","point","min","max","sort","a","includes","anchorPart","getClosestPoint","closestDistance","Infinity","closestDatum","boundingPoints","pointerPoint","distance","sqrt","pow","normalizeGetter","getter","d","path","def","e","val","pathObj","flattenDeep","newArr","join","replace","split","makePathArray","reduce","current","pathPart","get","isValidPoint","getAxisByAxisID","AxisID","find","id","getAxisIndexByAxisID","index","findIndex","sumObjBy","str","map","prev","curr","translateX","round","translateY","translate","identity","shallowDiff","b","aKeys","bKeys","some","item","otherFocused","group","seriesID","materializeStyles","stroke","color","fill","normalizeColor","elementTypes","t","n","_n2","onResize","element","fn","observer","observe","r","u","getBoundingClientRect","requestAnimationFrame","unobserve","cancelAnimationFrame","observeRect","useLatestRef","latest","ref","useLatest","when","usePrevious","commonjsGlobal","globalThis","window","global","performanceNow","module","createCommonjsModule","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","now","process","hr","uptime","Date","getTime","root","vendors","suffix","raf","caf","last","queue","callback","_now","setTimeout","cp","slice","cancelled","handle","raf_1","cancel","polyfill","object","defaultStyle","strokeWidth","opacity","rx","ry","Rectangle","_React$Component","_this$props","x1","y1","x2","y2","rest","resolvedStyle","xStart","yStart","xEnd","yEnd","createElement","Component","constant","RedBlackTree","_","RedBlackNode","node","U","C","L","R","P","N","RedBlackRotateLeft","tree","q","parent","RedBlackRotateRight","RedBlackFirst","createEdge","left","right","v0","v1","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","x0","y0","ax","ay","t0","t1","dx","dy","connectEdge","fm","fb","lx","ly","fx","fy","cellHalfedgeAngle","cell","site","va","vb","atan2","cellHalfedgeStart","cellHalfedgeEnd","insert","after","grandpa","uncle","remove","sibling","red","firstCircle","circlePool","Circle","arc","cy","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","cx","epsilon2","ha","hc","circle","pop","before","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","previous","disappearing","abs","epsilon","unshift","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","lexicographic","Diagram","sites","extent","j","m","array","sortCellHalfedges","clipEdges","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","cover","splice","d2","dc","v00","v01","v11","v10","clipCells","polygons","polygon","triangles","s0","c","e1","s1","links","radius","i0","that","i1","_found","v","vx","vy","v2","pi","PI","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","constant$1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","a0","a1","ccw","cos","sin","cw","da","rect","w","h","epsilon$2","Linear","context","_context","curveLinear","x$1","y$1","line","defined","curve","output","buffer","defined0","lineStart","lineEnd","noop","_point","Basis","BasisClosed","BasisOpen","Bundle","beta","_basis","_beta","areaStart","_line","areaEnd","NaN","_x2","_x3","_x4","_y2","_y3","_y4","_x","_y","bundle","custom","point$1","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","cardinalClosed","CardinalOpen","cardinalOpen","point$2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","catmullRomClosed","CatmullRomOpen","catmullRomOpen","LinearClosed","sign","slope3","h0","h1","slope2","point$3","MonotoneX","MonotoneY","ReflectContext","monotoneX","Natural","controlPoints","Step","_t","_t0","px","py","defaultStyle$1","Path$1","lineFn","VoronoiElement","className","Voronoi","_React$useContext2","useContext","_React$useContext2$","stackData","primaryAxes","secondaryAxes","showVoronoi","setChartState","onHover","useCallback","state","voronoiData","boundingPoint","Number","isNaN","voronoi","s","size","onMouseEnter","onMouseLeave","defaultStyle$2","Line","defaultStyle$3","fontFamily","fontSize","Text","Group","forwardRef","positionTop","positionRight","positionBottom","positionLeft","groupingSingle","groupingSeries","groupingPrimary","groupingSecondary","axisTypeOrdinal","axisTypeTime","axisTypeUtc","focusAuto","focusClosest","focusElement","defaultStyles","tick","radiansToDegrees","AxisLinear","tickSizeInner","tickSizeOuter","show","showGrid","showTicks","styles","maxLabelRotation","labelRotationStep","tickPadding","ticks","tickCount","minTickCount","maxTickCount","scale","scaleMax","transform","vertical","format","_ref$range","range","range0","range1","directionMultiplier","tickOffset","gridOffset","spacing","_React$useState2","rotation","setRotation","dark","axisDimensions","elRef","visibleLabelStepRef","measureDimensions","labelDims","querySelectorAll","el","tickSpace","calculatedTickCount","top","bottom","smallestTickGap","gap","firstLabelDim","lastLabelDim","largestLabel","_overflow","labelDim","largestLabelSize","newRotation","ceil","floor","newVisibleLabelStep","newDimensions","newAxes","previousRotation","useLayoutEffect","axisPath","showGridLine","axisStyles","pointerEvents","String","dominantBaseline","textAnchor","Axis","triangleSize","getBackgroundColor","Tooltip","chartState","gridX","gridY","latestFocused","getDatumStyle","tooltip","tooltipElRef","previousShowRef","align","alignPriority","padding","tooltipArrowPadding","arrowPosition","render","finalAlign","setFinalAlign","space","container","gridDims","tooltipDims","document","body","parentElement","_window$getComputedSt","getComputedStyle","overflowX","overflowY","containerDims","resolvedAlign","priority","fits","horizontalPadding","verticalPadding","resolvedFocused","alignX","alignY","triangleStyles","backgroundColor","resolvedArrowPosition","borderLeft","borderRight","borderTop","borderBottom","animateCoords","primaryAxis","primaryAxisID","secondaryAxis","secondaryAxisID","resolvedHorizontalPadding","resolvedVerticalPadding","renderedChildren","getStyle","transition","background","borderRadius","getLineBackgroundColor","getBackgroundColor$1","Cursor","primaryCursor","secondaryCursor","cursor","_ref2","showLine","showLabel","resolvedValue","snap","axis","siblingAxis","resolvedShow","latestValue","alignPctX","alignPctY","animated","siblingRange","cursorSize","renderProps","formattedValue","stacked","totalValue","lineStartX","lineStartY","lineEndX","lineEndY","bubbleX","RTL","bubbleY","lineHeight","lineWidth","whiteSpace","Brush","pointer","brush","dragging","sourceX","defaultProps","onSelect","ChartInner","_ref$style","_React$useContext4","_React$useContext4$","offset","renderSVG","onClick","seriesOptions","getSeriesOrder","svgRef","rafRef","_onMouseMove","clientX","clientY","active","down","onMouseUp","removeEventListener","released","orderedStackData","reverse","focusedSeriesIndex","stacks","stack","overflow","persist","onMouseMove","onMouseDown","addEventListener","sourceY","calculateMaterializeData","getSeriesID","getLabel","getPrimaryAxisID","getSecondaryAxisID","getDatums","getPrimary","getSecondary","getR","materializedData","seriesIndex","originalSeries","seriesLabel","originalDatums","datumIndex","originalDatum","secondary","usePropsMemo","watchRef","valueRef","_obj$style","useSeriesStyle","getSeriesStyle","useDatumStyle","defaultStyle$4","Circle$1","pathDefaultStyle","circleDefaultStyle","Line$1","showPoints","pathProps","renderedPath","Point","_ref4","dataStyle","circleProps","plotDatum","xAxis","yAxis","primaryCoord","secondaryCoord","xValue","yValue","base","baseValue","buildStyles","_ref3","defaultColors","circleDefaultStyle$1","Bubble","Point$1","defaultAreaStyle","lineDefaultStyle","Area","showOrphans","areaFn","area","k","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","areaPath","linePath","areaPathProps","renderedAreaPath","linePathProps","renderedLinePath","all","OrphanLine","clamp","lineProps","Bar","barOffset","BarPiece","rectangleProps","rectangle","barSize","seriesBarSize","seriesBandScaleOffset","seriesBandScale","seriesTypeIndex","_ref5","seriesTypes","bubble","bar","defaultSeries","seriesPropType","oneOfType","shape","string","bool","calculateSeriesOptions","_defaultSeries","renderer","calculateSeriesTypes","calculateDimensions","_React$useMemo","axesLeftWidth","axesLeftTop","axesLeftBottom","axesRightWidth","axesRightTop","axesRightBottom","axesTopHeight","axesTopLeft","axesTopRight","axesBottomHeight","axesBottomLeft","axesBottomRight","paddingLeft","paddingRight","paddingTop","paddingBottom","ascending","bisector","compare","f","lo","hi","mid","bisectRight","e10","e5","e2","stop","count","step","tickIncrement","isFinite","power","log","LN10","error","tickStep","step0","step1","initRange","domain","implicit","band","bandwidth","ordinal","Map","unknown","set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","has","copy","ordinalRange","r0","r1","paddingInner","paddingOuter","rescale","values","sequence","_ref7","rangeRound","_ref9","define","factory","extend","definition","Color","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","trim","toLowerCase","exec","Rgb","parseInt","rgbn","rgba","hsla","g","rgbConvert","rgb","_hex","Hsl","hsl2rgb","m1","m2","displayable","hex","brighter","darker","hslConvert","deg2rad","rad2deg","Xn","Yn","Zn","t2","t3","labConvert","Lab","Hcl","z","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","A","B","D","E","ED","EB","BC_DA","Cubehelix","constant$2","gamma","nogamma","exponential","linear","bl","cubehelixConvert","cosh","sinh","rgb$1","rgbGamma","nb","na","interpolateValue","date","setTime","interpolateNumber","reA","reB","am","bm","bs","bi","lastIndex","one","zero","valueOf","interpolateRound","SQRT2","number","unit","identity$1","normalize","constant$3","clamper","bimap","interpolate","d0","d1","polymap","transformer","untransform","piecewise","input","invert","continuous","formatDecimal","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","match","symbol","comma","precision","formatRounded","formatTypes","toPrecision","_p","toUpperCase","identity$2","locale","formatPrefix","prefixes","formatLocale","grouping","thousands","substring","currency","decimal","numerals","formatNumerals","percent","newFormat","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","tickFormat","precisionPrefix","precisionRound","precisionFixed","nice","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","log10","log2","logp","powp","t0$1","t1$1","newInterval","floori","offseti","field","every","millisecond","durationMinute","durationWeek","second","getUTCSeconds","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","S","utcDate","UTC","newYear","locale$1","timeFormat","utcFormat","utcParse","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","newDate","week","day$1","parse","X","formatLocale$1","defaultLocale$1","toISOString","_scales","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","durationWeek$1","durationMonth","durationYear","date$1","number$1","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","tickInterval","scales","linear$1","linearish","detectVertical","detectRTL","buildAxis","config","_ref$axis","_ref$axis$min","userMin","_ref$axis$max","userMax","_ref$axis$hardMin","hardMin","_ref$axis$hardMax","hardMax","_ref$axis$base","_ref$axis$tickCount","_ref$axis$minTickCoun","_ref$axis$maxTickCoun","_ref$axis$tickValues","tickValues","_ref$axis$tickFormat","_ref$axis$tickSizeInn","_ref$axis$tickSizeOut","_ref$axis$tickPadding","_ref$axis$maxLabelRot","_ref$axis$labelRotati","_ref$axis$innerPaddin","innerPadding","_ref$axis$outerPaddin","outerPadding","_ref$axis$showGrid","_ref$axis$showTicks","_ref$axis$show","_ref$axis$stacked","userID","valueKey","groupKey","AxisIDKey","uniqueVals","negativeTotalByKey","positiveTotalByKey","axisDimension","bandScale","stepSize","defaultMin","defaultMax","buildAxisLinear","axisShape","oneOf","isRequired","any","calculateAxes","prePrimaryAxes","preSecondaryAxes","primaryAxesHashes","secondaryAxesHashes","xKey","yKey","xAxes","yAxes","calculateStackData","scaleTotals","axisIndex","negative","positive","primaryAxisIndex","secondaryAxisIndex","validPoint","totalKey","_validPoint","_totalKey","xAxisIndex","yAxisIndex","datumsByGrouping","_seriesIndex","_series","_datumIndex","_datum","axisKey","_seriesIndex2","_series2","_datumIndex2","_datum2","_axisKey","showCount","TooltipRenderer","formatSecondary","formatTertiary","resolvedFormatSecondary","resolvedFormatTertiary","sortedGroupDatums","resolvedShowCount","activeIndex","visibleSortedGroupDatums","hasPrevious","hasNext","marginBottom","textAlign","sortedDatum","fontWeight","display","alignItems","justifyContent","marginRight","Fragment","alignPropType","tooltipShape","arrayOf","required","onChange","calculateTooltip","multiFocus","cursorShape","axisID","defaultCursorProps","calculateCursors","cursorValue","focus","Chart","onFocus","_React$useState2$","offsetState","onClickRef","onFocusRef","onHoverRef","responsiveElRef","_useHyperResponsive","setState","resize","computed","boxSizing","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","newWidth","newHeight","stopListening","useHyperResponsive","_useHyperResponsive2$","_calculateDimensions","_calculateAxes","axisValues","resolvedFocus","_calculateCursors2","previousDragging","chartStateContextValue","Provider","propTypes","alignAuto","alignBottom","alignBottomLeft","alignBottomRight","alignLeft","alignRight","alignTop","alignTopLeft","alignTopRight","anchorBottom","anchorCenter","anchorClosest","anchorGridBottom","anchorGridLeft","anchorGridRight","anchorGridTop","anchorLeft","anchorPointer","anchorRight","anchorTop","axisTypeLinear","axisTypeLog","curveBasis","curveBasisClosed","curveBasisOpen","curveBundle","curveCardinal","curveCardinalClosed","curveCardinalOpen","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","nextTick","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","$export","$values","it","F","fails","$toISOString","lz","num","RangeError","LN2","LOG10E","arrayWithHoles","iterableToArrayLimit","nonIterableRest","createHTML"],"mappings":"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","file":"component---docs-advanced-examples-mdx-56dc1630af538f020e13.js","sourcesContent":["/* eslint-disable no-debugger */\nimport React from 'react';\nimport { Chart } from 'react-charts';\nimport ReactTimer from '../src';\n\nconst MyChart = () => {\n  const coords = [[0, 0]];\n\n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: 'linear', position: 'bottom' },\n      { type: 'linear', position: 'left' },\n    ],\n    [],\n  );\n\n  const renderChart = (value) => {\n    const ar = [value, (Math.random() * 10).toFixed(0)];\n    coords.push(ar);\n    return (\n      <Chart\n        data={[\n          {\n            label: 'Series 1',\n            data: coords,\n          },\n        ]}\n        axes={axes}\n      />\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '300px',\n      }}\n    >\n      <ReactTimer\n        start={0}\n        end={(value) => value === 10}\n        onTick={(value) => value + 1}\n      >\n        {(value) => renderChart(value)}\n      </ReactTimer>\n    </div>\n  );\n};\n\n\nexport default MyChart;\n","import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/xendora/react-timer/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground } from 'docz';\nimport ReactTimer from '../src/index';\nimport ChartsExample from './charts-example';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"advanced-examples\"\n    }}>{`Advanced Examples`}</h1>\n\n    <h2 {...{\n      \"id\": \"line-graph\"\n    }}>{`Line graph`}</h2>\n    <p>{`A line graph that periodically updates itself`}</p>\n    <ChartsExample mdxType=\"ChartsExample\" />\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import React from 'react';\nimport { Chart } from 'react-charts';\nimport ReactTimer from '@xendora/react-timer';\n\nconst MyChart = () => {\n  const coords = [[0, 0]];\n\n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: 'linear', position: 'bottom' },\n      { type: 'linear', position: 'left' },\n    ],\n    [],\n  );\n\n  const renderChart = (value) => {\n    const ar = [value, (Math.random() * 10).toFixed(0)];\n    coords.push(ar);\n    return (\n      <Chart\n        data={[\n          {\n            label: 'Series 1',\n            data: coords,\n          },\n        ]}\n        axes={axes}\n      />\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '300px',\n      }}\n    >\n      <ReactTimer\n        start={0}\n        end={(value) => value === 10}\n        onTick={(value) => value + 1}\n      >\n        {(value) => renderChart(value)}\n      </ReactTimer>\n    </div>\n  );\n};\n\n\nexport default MyChart;\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nconst ReactTimer = ({\n  children,\n  start = 0,\n  end = () => true,\n  interval = 1000,\n  onEnd = () => { },\n  onTick = () => { },\n}) => {\n  const [value, setValue] = useState(start);\n  const timerRef = useRef();\n\n  useEffect(() => {\n    if (!timerRef.current) {\n      timerRef.current = setInterval(() => {\n        setValue((val) => onTick(val));\n      }, interval);\n    }\n    if (end(value)) {\n      clearInterval(timerRef.current);\n      onEnd(value);\n    }\n  }, [end, interval, onEnd, onTick, value]);\n\n  useEffect(() => () => {\n    clearInterval(timerRef.current);\n  }, []);\n\n  return children(value);\n};\n\nReactTimer.propTypes = {\n  children: PropTypes.func.isRequired,\n  start: PropTypes.number.isRequired,\n  end: PropTypes.func.isRequired,\n  interval: PropTypes.number,\n  onTick: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nexport default ReactTimer;\n","'use strict';\n\nrequire(\"core-js/modules/es7.object.values\");\n\nrequire(\"core-js/modules/es6.date.to-iso-string\");\n\nrequire(\"core-js/modules/es6.math.log2\");\n\nrequire(\"core-js/modules/es6.math.log10\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nvar _slicedToArray2 = require(\"/home/travis/build/xendora/react-timer/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.map\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.number.is-nan\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.string.anchor\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = _interopDefault(require('react'));\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar ChartContext = React.createContext();\nvar Utils = {\n  getStatus: getStatus,\n  getStatusStyle: getStatusStyle,\n  buildStyleGetters: buildStyleGetters,\n  getMultiAnchor: getMultiAnchor,\n  getClosestPoint: getClosestPoint,\n  normalizeGetter: normalizeGetter,\n  isValidPoint: isValidPoint,\n  getAxisByAxisID: getAxisByAxisID,\n  getAxisIndexByAxisID: getAxisIndexByAxisID,\n  sumObjBy: sumObjBy,\n  translateX: translateX,\n  translateY: translateY,\n  translate: translate,\n  identity: identity,\n  shallowDiff: shallowDiff\n};\n\nfunction getStatus(item, focused) {\n  var status = {\n    focused: false,\n    otherFocused: false\n  };\n\n  if (!focused) {\n    return status;\n  } // If the item is a datum\n\n\n  if (typeof item.primary !== 'undefined') {\n    var length = focused.group.length;\n\n    for (var i = 0; i < length; i++) {\n      if (focused.group[i].seriesID === item.series.id && focused.group[i].index === item.index) {\n        status.focused = true;\n        break;\n      }\n    }\n\n    status.otherFocused = !status.focused; // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id;\n    status.otherFocused = !status.focused;\n  }\n\n  return status;\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = _objectSpread({}, defaults, item.series.style);\n  }\n\n  return materializeStyles(decorator(_objectSpread({}, item, status)), defaults);\n}\n\nfunction buildStyleGetters(series, defaults) {\n  series.getStatusStyle = function (focused, decorator) {\n    var status = getStatus(series, focused);\n    series.style = getStatusStyle(series, status, decorator, defaults);\n    return series.style;\n  }; // We also need to decorate each datum in the same fashion\n\n\n  series.datums.forEach(function (datum) {\n    datum.getStatusStyle = function (focused, decorator) {\n      var status = getStatus(datum, focused);\n      datum.style = getStatusStyle(datum, status, decorator, defaults);\n      return datum.style;\n    };\n  });\n}\n\nfunction getMultiAnchor(_ref) {\n  var anchor = _ref.anchor,\n      points = _ref.points,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n\n  var invalid = function invalid() {\n    throw new Error(\"\".concat(JSON.stringify(anchor), \" is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.\"));\n  };\n\n  var x;\n  var y;\n  var xMin = points[0].anchor.x;\n  var xMax = points[0].anchor.x;\n  var yMin = points[0].anchor.y;\n  var yMax = points[0].anchor.y;\n  points.forEach(function (point) {\n    xMin = Math.min(point.anchor.x, xMin);\n    xMax = Math.max(point.anchor.x, xMax);\n    yMin = Math.min(point.anchor.y, yMin);\n    yMax = Math.max(point.anchor.y, yMax);\n  });\n\n  if (anchor.length > 2) {\n    return invalid();\n  }\n\n  anchor = anchor.sort(function (a) {\n    return a.includes('center') || a.includes('Center') ? 1 : -1;\n  });\n\n  for (var i = 0; i < anchor.length; i++) {\n    var anchorPart = anchor[i]; // Horizontal Positioning\n\n    if (['left', 'right', 'gridLeft', 'gridRight'].includes(anchorPart)) {\n      if (typeof x !== 'undefined') {\n        invalid();\n      }\n\n      if (anchorPart === 'left') {\n        x = xMin;\n      } else if (anchorPart === 'right') {\n        x = xMax;\n      } else if (anchorPart === 'gridLeft') {\n        x = 0;\n      } else if (anchorPart === 'gridRight') {\n        x = gridWidth;\n      } else {\n        invalid();\n      }\n    } // Vertical Positioning\n\n\n    if (['top', 'bottom', 'gridTop', 'gridBottom'].includes(anchorPart)) {\n      if (typeof y !== 'undefined') {\n        invalid();\n      }\n\n      if (anchorPart === 'top') {\n        y = yMin;\n      } else if (anchorPart === 'bottom') {\n        y = yMax;\n      } else if (anchorPart === 'gridTop') {\n        y = 0;\n      } else if (anchorPart === 'gridBottom') {\n        y = gridHeight;\n      } else {\n        invalid();\n      }\n    } // Center Positioning\n\n\n    if (['center', 'gridCenter'].includes(anchorPart)) {\n      if (anchorPart === 'center') {\n        if (typeof y === 'undefined') {\n          y = (yMin + yMax) / 2;\n        }\n\n        if (typeof x === 'undefined') {\n          x = (xMin + xMax) / 2;\n        }\n      } else if (anchorPart === 'gridCenter') {\n        if (typeof y === 'undefined') {\n          y = gridHeight / 2;\n        }\n\n        if (typeof x === 'undefined') {\n          x = gridWidth / 2;\n        }\n      } else {\n        invalid();\n      }\n    } // Auto center the remainder if there is only one anchorPart listed\n\n\n    if (anchor.length === 1) {\n      if (anchor[0].includes('grid')) {\n        anchor.push('gridCenter');\n      } else {\n        anchor.push('center');\n      }\n    }\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return;\n  }\n\n  var closestDistance = Infinity;\n  var closestDatum = datums[0];\n  datums.forEach(function (datum) {\n    datum.boundingPoints.forEach(function (pointerPoint) {\n      var distance = Math.sqrt(Math.pow(pointerPoint.x - position.x, 2) + Math.pow(pointerPoint.y - position.y, 2));\n\n      if (distance < closestDistance) {\n        closestDistance = distance;\n        closestDatum = datum;\n      }\n    });\n  });\n  return closestDatum;\n}\n\nfunction normalizeColor(style, defaults) {\n  return _objectSpread({}, style, {\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color\n  });\n}\n\nvar elementTypes = ['area', 'line', 'rectangle', 'circle'];\n\nfunction materializeStyles() {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  style = normalizeColor(style, defaults);\n\n  for (var i = 0; i < elementTypes.length; i++) {\n    var type = elementTypes[i];\n    style[type] = style[type] ? materializeStyles(style[type], defaults) : {};\n  }\n\n  return style;\n}\n\nfunction normalizeGetter(getter) {\n  if (typeof getter === 'function') {\n    return getter;\n  }\n\n  return function (d) {\n    return get(d, getter);\n  };\n}\n\nfunction get(obj, path, def) {\n  if (typeof obj === 'function') {\n    try {\n      return obj();\n    } catch (e) {\n      return path;\n    }\n  }\n\n  if (!path) {\n    return obj;\n  }\n\n  var pathObj = makePathArray(path);\n  var val;\n\n  try {\n    val = pathObj.reduce(function (current, pathPart) {\n      return current[pathPart];\n    }, obj);\n  } catch (e) {// do nothing\n  }\n\n  return typeof val !== 'undefined' ? val : def;\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join('.').replace('[', '.').replace(']', '').split('.');\n}\n\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i++) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction isValidPoint(d) {\n  if (d === null) {\n    return false;\n  }\n\n  if (typeof d === 'undefined') {\n    return false;\n  }\n\n  if (typeof d === 'string' && d === 'null') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getAxisByAxisID(axes, AxisID) {\n  return axes.find(function (d) {\n    return d.id === AxisID;\n  }) || axes[0];\n}\n\nfunction getAxisIndexByAxisID(axes, AxisID) {\n  var index = axes.findIndex(function (d) {\n    return d.id === AxisID;\n  });\n  return index > -1 ? index : 0;\n}\n\nfunction sumObjBy(obj, str) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  }).reduce(function (prev, curr) {\n    return prev + curr[str] || 0;\n  }, 0);\n}\n\nfunction translateX(x) {\n  return \"translate3d(\".concat(Math.round(x), \"px, 0, 0)\");\n}\n\nfunction translateY(y) {\n  return \"translate3d(0, \".concat(Math.round(y), \"px, 0)\");\n}\n\nfunction translate(x, y) {\n  return \"translate3d(\".concat(Math.round(x), \"px, \").concat(Math.round(y), \"px, 0)\");\n}\n\nfunction identity(d) {\n  return d;\n}\n\nfunction shallowDiff(a, b) {\n  var aKeys = Object.keys(a);\n  var bKeys = Object.keys(b);\n\n  if (aKeys.length !== bKeys.length) {\n    return true;\n  }\n\n  return Object.keys(a).some(function (key) {\n    if (a[key] !== b[key]) {\n      return true;\n    }\n  });\n}\n\nvar t = [\"width\", \"height\", \"top\", \"right\", \"bottom\", \"left\"],\n    n = function n(_n2, e) {\n  return void 0 === _n2 && (_n2 = {}), void 0 === e && (e = {}), t.some(function (t) {\n    return _n2[t] !== e[t];\n  });\n};\n\nfunction observeRect(t, e) {\n  var o,\n      i,\n      r = function r() {\n    var u = t.getBoundingClientRect();\n    n(u, o) && e(o = u), i = requestAnimationFrame(r);\n  };\n\n  return {\n    observe: r,\n    unobserve: function unobserve() {\n      cancelAnimationFrame(i);\n    }\n  };\n}\n\nfunction onResize(element, fn) {\n  var observer = observeRect(element, fn);\n  observer.observe();\n  return observer.unobserve;\n}\n\nfunction useHyperResponsive(ref) {\n  var _React$useState = React.useState({\n    width: 0,\n    height: 0\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      width = _React$useState2$.width,\n      height = _React$useState2$.height,\n      setState = _React$useState2[1];\n\n  var resize = React.useRef();\n\n  resize.current = function () {\n    if (!ref.current) {\n      return;\n    }\n\n    var computed = window.getComputedStyle(ref.current.parentElement);\n    var paddingTop = computed.paddingTop,\n        paddingBottom = computed.paddingBottom,\n        paddingLeft = computed.paddingLeft,\n        paddingRight = computed.paddingRight,\n        boxSizing = computed.boxSizing,\n        borderTopWidth = computed.borderTopWidth,\n        borderLeftWidth = computed.borderLeftWidth,\n        borderRightWidth = computed.borderRightWidth,\n        borderBottomWidth = computed.borderBottomWidth;\n    var newWidth = computed.width,\n        newHeight = computed.height;\n    newWidth = parseInt(newWidth);\n    newHeight = parseInt(newHeight);\n\n    if (boxSizing === 'border-box') {\n      newWidth -= parseInt(paddingLeft);\n      newWidth -= parseInt(paddingRight);\n      newHeight -= parseInt(paddingTop);\n      newHeight -= parseInt(paddingBottom);\n      newWidth -= parseInt(borderLeftWidth);\n      newWidth -= parseInt(borderRightWidth);\n      newHeight -= parseInt(borderTopWidth);\n      newHeight -= parseInt(borderBottomWidth);\n    }\n\n    if (newWidth !== width || newHeight !== height) {\n      setState(function () {\n        return {\n          width: newWidth,\n          height: newHeight\n        };\n      });\n    }\n  };\n\n  React.useEffect(function () {\n    var stopListening = onResize(ref.current.parentElement, resize.current);\n    return function () {\n      stopListening();\n    };\n  }, [ref]);\n  return [{\n    width: width,\n    height: height\n  }];\n}\n\nfunction useLatestRef(latest) {\n  var ref = React.useRef();\n  ref.current = latest;\n  return ref;\n}\n\nfunction useLatest(obj) {\n  var when = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var ref = React.useRef();\n\n  if (when) {\n    ref.current = obj;\n  }\n\n  return ref.current;\n}\n\nfunction usePrevious(val) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = val;\n  }, [val]);\n  return ref.current;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar performanceNow = createCommonjsModule(function (module) {\n  // Generated by CoffeeScript 1.12.2\n  (function () {\n    var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n    if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n      module.exports = function () {\n        return performance.now();\n      };\n    } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n      module.exports = function () {\n        return (getNanoSeconds() - nodeLoadTime) / 1e6;\n      };\n\n      hrtime = process.hrtime;\n\n      getNanoSeconds = function getNanoSeconds() {\n        var hr;\n        hr = hrtime();\n        return hr[0] * 1e9 + hr[1];\n      };\n\n      moduleLoadTime = getNanoSeconds();\n      upTime = process.uptime() * 1e9;\n      nodeLoadTime = moduleLoadTime - upTime;\n    } else if (Date.now) {\n      module.exports = function () {\n        return Date.now() - loadTime;\n      };\n\n      loadTime = Date.now();\n    } else {\n      module.exports = function () {\n        return new Date().getTime() - loadTime;\n      };\n\n      loadTime = new Date().getTime();\n    }\n  }).call(commonjsGlobal);\n});\nvar root = typeof window === 'undefined' ? commonjsGlobal : window,\n    vendors = ['moz', 'webkit'],\n    suffix = 'AnimationFrame',\n    raf = root['request' + suffix],\n    caf = root['cancel' + suffix] || root['cancelRequest' + suffix];\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix];\n  caf = root[vendors[i] + 'Cancel' + suffix] || root[vendors[i] + 'CancelRequest' + suffix];\n} // Some versions of FF have rAF but not cAF\n\n\nif (!raf || !caf) {\n  var last = 0,\n      id = 0,\n      queue = [],\n      frameDuration = 1000 / 60;\n\n  raf = function raf(callback) {\n    if (queue.length === 0) {\n      var _now = performanceNow(),\n          next = Math.max(0, frameDuration - (_now - last));\n\n      last = next + _now;\n      setTimeout(function () {\n        var cp = queue.slice(0); // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n\n        queue.length = 0;\n\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last);\n            } catch (e) {\n              setTimeout(function () {\n                throw e;\n              }, 0);\n            }\n          }\n        }\n      }, Math.round(next));\n    }\n\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    });\n    return id;\n  };\n\n  caf = function caf(handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true;\n      }\n    }\n  };\n}\n\nvar raf_1 = function raf_1(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn);\n};\n\nvar cancel = function cancel() {\n  caf.apply(root, arguments);\n};\n\nvar polyfill = function polyfill(object) {\n  if (!object) {\n    object = root;\n  }\n\n  object.requestAnimationFrame = raf;\n  object.cancelAnimationFrame = caf;\n};\n\nraf_1.cancel = cancel;\nraf_1.polyfill = polyfill;\nvar defaultStyle = {\n  strokeWidth: 0,\n  fill: '#333',\n  opacity: 1,\n  rx: 0,\n  ry: 0\n};\n\nvar Rectangle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Rectangle, _React$Component);\n\n  function Rectangle() {\n    _classCallCheck(this, Rectangle);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Rectangle).apply(this, arguments));\n  }\n\n  _createClass(Rectangle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          opacity = _this$props.opacity,\n          x1 = _this$props.x1,\n          y1 = _this$props.y1,\n          x2 = _this$props.x2,\n          y2 = _this$props.y2,\n          rest = _objectWithoutProperties(_this$props, [\"style\", \"opacity\", \"x1\", \"y1\", \"x2\", \"y2\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle, style);\n\n      var xStart = Math.min(x1, x2);\n      var yStart = Math.min(y1, y2);\n      var xEnd = Math.max(x1, x2);\n      var yEnd = Math.max(y1, y2);\n      var height = Math.max(yEnd - yStart, 0);\n      var width = Math.max(xEnd - xStart, 0);\n      return React.createElement(\"rect\", _extends({}, rest, {\n        x: xStart,\n        y: yStart,\n        width: width,\n        height: height,\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Rectangle;\n}(React.Component);\n\n_defineProperty(Rectangle, \"defaultProps\", {\n  opacity: 1\n});\n\nfunction constant(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction x(d) {\n  return d[0];\n}\n\nfunction y(d) {\n  return d[1];\n}\n\nfunction RedBlackTree() {\n  this._ = null; // root node\n}\n\nfunction RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n  insert: function insert(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n\n      if (after.R) {\n        after = after.R;\n\n        while (after.L) {\n          after = after.L;\n        }\n\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n    after = node;\n\n    while (parent && parent.C) {\n      grandpa = parent.U;\n\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n\n      parent = after.U;\n    }\n\n    this._.C = false;\n  },\n  remove: function remove(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n    if (!left) next = right;else if (!right) next = left;else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n\n    if (node && node.C) {\n      node.C = false;\n      return;\n    }\n\n    do {\n      if (node === this._) break;\n\n      if (node === parent.L) {\n        sibling = parent.R;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) {\n    node = node.L;\n  }\n\n  return node;\n}\n\nfunction createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nfunction createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nfunction setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n} // Liang–Barsky line clipping.\n\n\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nfunction clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1) || !clipEdge(edge, x0, y0, x1, y1) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n\nfunction createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nfunction cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nfunction cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nfunction sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n\n      for (j = 0; j < m; ++j) {\n        index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      }\n\n      index.sort(function (i, j) {\n        return array[j] - array[i];\n      });\n\n      for (j = 0; j < m; ++j) {\n        array[j] = halfedges[index[j]];\n      }\n\n      for (j = 0; j < m; ++j) {\n        halfedges[j] = array[j];\n      }\n    }\n  }\n}\n\nfunction clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length; // Remove any dangling clipped edges.\n\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      } // Insert any border edges as necessary.\n\n\n      iHalfedge = 0, nHalfedges = halfedges.length;\n\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end, Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1] : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1] : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0] : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0] : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  } // If there weren’t any edges, have the closest site cover the extent.\n  // It doesn’t matter which corner of the extent we measure!\n\n\n  if (cover) {\n    var dx,\n        dy,\n        d2,\n        dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0],\n          v01 = [x0, y1],\n          v11 = [x1, y1],\n          v10 = [x1, y0];\n      cover.halfedges.push(edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1, edges.push(createBorderEdge(site, v01, v11)) - 1, edges.push(createBorderEdge(site, v11, v10)) - 1, edges.push(createBorderEdge(site, v10, v00)) - 1);\n    }\n  } // Lastly delete any cells with no edges; these were entirely clipped.\n\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n\nvar circlePool = [];\nvar firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x = this.y = this.arc = this.site = this.cy = null;\n}\n\nfunction attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n  if (!lArc || !rArc) return;\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n  if (lSite === rSite) return;\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n  var circle = circlePool.pop() || new Circle();\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n      if (node.L) node = node.L;else {\n        before = node.P;\n        break;\n      }\n    } else {\n      if (node.R) node = node.R;else {\n        before = node;\n        break;\n      }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nfunction detachCircle(arc) {\n  var circle = arc.circle;\n\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge = this.site = this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach();\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nfunction removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n  detachBeach(beach);\n  var lArc = previous;\n\n  while (lArc.circle && Math.abs(x - lArc.circle.x) < epsilon && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n  var rArc = next;\n\n  while (rArc.circle && Math.abs(x - rArc.circle.x) < epsilon && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n  var nArcs = disappearing.length,\n      iArc;\n\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L;else {\n      dxr = x - rightBreakPoint(node, directrix);\n\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) {\n    // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  } // else lArc !== rArc\n\n\n  detachCircle(lArc);\n  detachCircle(rArc);\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n  if (!pby2) return rfocx;\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n  if (!plby2) return lfocx;\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n\nvar epsilon = 1e-6;\nvar epsilon2 = 1e-12;\nvar beaches;\nvar cells;\nvar circles;\nvar edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1] || b[0] - a[0];\n}\n\nfunction Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree();\n  circles = new RedBlackTree();\n\n  while (true) {\n    circle = firstCircle;\n\n    if (site && (!circle || site[1] < circle.y || site[1] === circle.y && site[0] < circle.x)) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n  beaches = circles = edges = cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n  polygons: function polygons() {\n    var edges = this.edges;\n    return this.cells.map(function (cell) {\n      var polygon = cell.halfedges.map(function (i) {\n        return cellHalfedgeStart(cell, edges[i]);\n      });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n  triangles: function triangles() {\n    var triangles = [],\n        edges = this.edges;\n    this.cells.forEach(function (cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n    return triangles;\n  },\n  links: function links() {\n    return this.edges.filter(function (edge) {\n      return edge.right;\n    }).map(function (edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n  find: function find(x, y, radius) {\n    var that = this,\n        i0,\n        i1 = that._found || 0,\n        n = that.cells.length,\n        cell; // Use the previously-found cell, or start with an arbitrary one.\n\n    while (!(cell = that.cells[i1])) {\n      if (++i1 >= n) return null;\n    }\n\n    var dx = x - cell.site[0],\n        dy = y - cell.site[1],\n        d2 = dx * dx + dy * dy; // Traverse the half-edges to find a closer cell, if any.\n\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function (e) {\n        var edge = that.edges[e],\n            v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0],\n            vy = y - v[1],\n            v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n};\n\nfunction voronoi() {\n  var x$1 = x,\n      y$1 = y,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function (d, i) {\n      var s = [Math.round(x$1(d, i, data) / epsilon) * epsilon, Math.round(y$1(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function (data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function (data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function (data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function (_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x$1;\n  };\n\n  voronoi.y = function (_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y$1;\n  };\n\n  voronoi.extent = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n\nvar pi = Math.PI,\n    tau = 2 * pi,\n    epsilon$1 = 1e-6,\n    tauEpsilon = tau - epsilon$1;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path();\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function moveTo(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function lineTo(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function quadraticCurveTo(x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n          this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n        } // Otherwise, draw an arc!\n        else {\n            var x20 = x2 - x0,\n                y20 = y2 - y0,\n                l21_2 = x21 * x21 + y21 * y21,\n                l20_2 = x20 * x20 + y20 * y20,\n                l21 = Math.sqrt(l21_2),\n                l01 = Math.sqrt(l01_2),\n                l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n                t01 = l / l01,\n                t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n            if (Math.abs(t01 - 1) > epsilon$1) {\n              this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n            }\n\n            this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n          }\n  },\n  arc: function arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n        this._ += \"L\" + x0 + \",\" + y0;\n      } // Is this arc empty? We’re done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau + tau; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n        this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n      }\n  },\n  rect: function rect(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function toString() {\n    return this._;\n  }\n};\n\nfunction constant$1(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar epsilon$2 = 1e-12;\nvar pi$1 = Math.PI;\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        this._context.lineTo(x, y);\n\n        break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x$1(p) {\n  return p[0];\n}\n\nfunction y$1(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x = x$1,\n      y = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$1(+_), line) : x;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$1(+_), line) : y;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area() {\n  var x0 = x$1,\n      x1 = null,\n      y0 = constant$1(0),\n      y1 = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction noop() {}\n\nfunction _point(that, x, y) {\n  that._context.bezierCurveTo((2 * that._x0 + that._x1) / 3, (2 * that._y0 + that._y1) / 3, (that._x0 + 2 * that._x1) / 3, (that._y0 + 2 * that._y1) / 3, (that._x0 + 4 * that._x1 + x) / 6, (that._y0 + 4 * that._y1 + y) / 6);\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 3:\n        _point(this, this._x1, this._y1);\n\n      // proceed\n\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n\n        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);\n\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basis(context) {\n  return new Basis(context);\n}\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x2, this._y2);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n\n          this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x2, this._y2);\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x2 = x, this._y2 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x4 = x, this._y4 = y;\n\n        this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6);\n\n        break;\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisClosed(context) {\n  return new BasisClosed(context);\n}\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        var x0 = (this._x0 + 4 * this._x1 + x) / 6,\n            y0 = (this._y0 + 4 * this._y1 + y) / 6;\n        this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisOpen(context) {\n  return new BasisOpen(context);\n}\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n\n    this._basis.lineStart();\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n\n        this._basis.point(this._beta * x[i] + (1 - this._beta) * (x0 + t * dx), this._beta * y[i] + (1 - this._beta) * (y0 + t * dy));\n      }\n    }\n\n    this._x = this._y = null;\n\n    this._basis.lineEnd();\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n};\n\nvar bundle = function custom(beta) {\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function (beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n}(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(that._x1 + that._k * (that._x2 - that._x0), that._y1 + that._k * (that._y2 - that._y0), that._x2 + that._k * (that._x1 - x), that._y2 + that._k * (that._y1 - y), that._x2, that._y2);\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        point$1(this, this._x1, this._y1);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x1 = x, this._y1 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = function custom(tension) {\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon$2) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon$2) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        this.point(this._x2, this._y2);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._point) this._context.closePath();\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nfunction linearClosed(context) {\n  return new LinearClosed(context);\n}\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n} // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\n\n\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n} // Calculate a one-sided slope.\n\n\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n} // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n\n\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n\n      case 3:\n        point$3(this, this._t0, slope2(this, this._t0));\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    var t1 = NaN;\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        point$3(this, slope2(this, t1 = slope3(this, x, y)), t1);\n        break;\n\n      default:\n        point$3(this, this._t0, t1 = slope3(this, x, y));\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function moveTo(x, y) {\n    this._context.moveTo(y, x);\n  },\n  closePath: function closePath() {\n    this._context.closePath();\n  },\n  lineTo: function lineTo(x, y) {\n    this._context.lineTo(y, x);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n  }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n}; // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n\n  for (i = 1; i < n - 1; ++i) {\n    a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  }\n\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n\n  for (i = 1; i < n; ++i) {\n    m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  }\n\n  a[n - 1] = r[n - 1] / b[n - 1];\n\n  for (i = n - 2; i >= 0; --i) {\n    a[i] = (r[i] - a[i + 1]) / b[i];\n  }\n\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n\n  for (i = 0; i < n - 1; ++i) {\n    b[i] = 2 * x[i + 1] - a[i + 1];\n  }\n\n  return [a, b];\n}\n\nfunction natural(context) {\n  return new Natural(context);\n}\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        {\n          if (this._t <= 0) {\n            this._context.lineTo(this._x, y);\n\n            this._context.lineTo(x, y);\n          } else {\n            var x1 = this._x * (1 - this._t) + x * this._t;\n\n            this._context.lineTo(x1, this._y);\n\n            this._context.lineTo(x1, y);\n          }\n\n          break;\n        }\n    }\n\n    this._x = x, this._y = y;\n  }\n};\n\nfunction step(context) {\n  return new Step(context, 0.5);\n}\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nvar defaultStyle$1 = {\n  strokeWidth: 2,\n  stroke: '#6b6b6b',\n  fill: 'transparent',\n  opacity: 1\n};\n\nfunction Path$1(_ref) {\n  var style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"style\"]);\n\n  var resolvedStyle = _objectSpread({}, defaultStyle$1, style);\n\n  return React.createElement(\"path\", _extends({}, rest, {\n    style: resolvedStyle\n  }));\n}\n\nvar lineFn = line();\n\nvar VoronoiElement = function VoronoiElement(_ref) {\n  var children = _ref.children,\n      rest = _objectWithoutProperties(_ref, [\"children\"]);\n\n  return React.createElement(\"g\", _extends({\n    className: \"Voronoi\"\n  }, rest), children);\n};\n\nfunction Voronoi() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      stackData = _React$useContext2$.stackData,\n      primaryAxes = _React$useContext2$.primaryAxes,\n      secondaryAxes = _React$useContext2$.secondaryAxes,\n      showVoronoi = _React$useContext2$.showVoronoi,\n      width = _React$useContext2$.width,\n      height = _React$useContext2$.height,\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      setChartState = _React$useContext2[1];\n\n  var onHover = React.useCallback(function (datum) {\n    return setChartState(function (state) {\n      return _objectSpread({}, state, {\n        focused: datum\n      });\n    });\n  }, [setChartState]);\n  return React.useMemo(function () {\n    // Don't render until we have all dependencies\n    if (!stackData || !primaryAxes.length || !secondaryAxes.length || !width || !height) {\n      return null;\n    }\n\n    var extent = [[0, 0], [gridWidth, gridHeight]]; // if (type === 'pie') {\n    //   const primaryAxis = primaryAxes[0]\n    //   return (\n    //     <VoronoiElement\n    //       style={{\n    //         transform: Utils.translate(primaryAxis.width /\n    //           2, primaryAxis.height / 2)\n    //       }}\n    //     >\n    //       {stackData.map(series => (\n    //         <React.Fragment key={series.index}>\n    //           {series.datums.map((datum, i) => {\n    //             const arc = makeArc()\n    //               .startAngle(datum.arcData.startAngle)\n    //               .endAngle(datum.arcData.endAngle)\n    //               .padAngle(0)\n    //               .padRadius(0)\n    //               .innerRadius(\n    //                 !series.index\n    //                   ? 0\n    //                   : datum.arcData.innerRadius -\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .outerRadius(\n    //                 series.index === stackData.length - 1\n    //                   ? Math.max(primaryAxis.width, primaryAxis.height)\n    //                   : datum.arcData.outerRadius +\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .cornerRadius(0)\n    //             return (\n    //               <Path\n    //                 key={i}\n    //                 d={arc()}\n    //                 className='action-voronoi'\n    //                 onMouseEnter={() => onHover([datum])}\n    //                 style={{\n    //                   fill: 'rgba(0,0,0,.2)',\n    //                   stroke: 'rgba(255,255,255,.5)',\n    //                   opacity: showVoronoi ? 1 : 0\n    //                 }}\n    //               />\n    //             )\n    //           })}\n    //         </React.Fragment>\n    //       ))}\n    //     </VoronoiElement>\n    //   )\n    // }\n\n    var vor;\n    var polygons = null;\n    var voronoiData = [];\n    stackData.forEach(function (series) {\n      series.datums.filter(function (d) {\n        return d.defined;\n      }).forEach(function (datum) {\n        datum.boundingPoints.forEach(function (boundingPoint) {\n          if (typeof datum.x !== 'number' || typeof datum.y !== 'number' || Number.isNaN(datum.y) || Number.isNaN(datum.x)) {\n            return;\n          }\n\n          voronoiData.push({\n            x: boundingPoint.x,\n            y: boundingPoint.y,\n            datum: datum\n          });\n        });\n      });\n    });\n    vor = voronoi().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).extent(extent)(voronoiData);\n    polygons = vor.polygons();\n    return React.createElement(VoronoiElement, null, polygons.map(function (points, i) {\n      var path = lineFn(points);\n      return React.createElement(Path$1, {\n        key: i,\n        d: path,\n        className: \"action-voronoi\",\n        onMouseEnter: function onMouseEnter(e) {\n          return onHover(points.data.datum);\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return onHover(null);\n        },\n        style: {\n          fill: 'rgba(0,0,0,.2)',\n          stroke: 'rgba(255,255,255,.5)',\n          opacity: showVoronoi ? 1 : 0\n        }\n      });\n    }));\n  }, [gridHeight, gridWidth, height, onHover, primaryAxes.length, secondaryAxes.length, showVoronoi, stackData, width]);\n}\n\nvar defaultStyle$2 = {\n  strokeWidth: 1,\n  fill: 'transparent',\n  opacity: 1\n};\n\nvar Line =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Line, _React$Component);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Line).apply(this, arguments));\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          rest = _objectWithoutProperties(_this$props, [\"style\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle$2, style);\n\n      return React.createElement(\"line\", _extends({}, rest, {\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Line;\n}(React.Component);\n\nvar defaultStyle$3 = {\n  fontFamily: 'Helvetica',\n  fontSize: 10,\n  opacity: 1\n};\n\nvar Text =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Text, _React$Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          opacity = _this$props.opacity,\n          rest = _objectWithoutProperties(_this$props, [\"style\", \"opacity\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle$3, style);\n\n      return React.createElement(\"text\", _extends({}, rest, {\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Text;\n}(React.Component);\n\n_defineProperty(Text, \"defaultProps\", {\n  opacity: 1\n});\n\nvar Group = React.forwardRef(function Group(props, ref) {\n  return React.createElement(\"g\", _extends({}, props, {\n    ref: ref\n  }));\n});\nvar positionTop = 'top';\nvar positionRight = 'right';\nvar positionBottom = 'bottom';\nvar positionLeft = 'left';\nvar groupingSingle = 'single';\nvar groupingSeries = 'series';\nvar groupingPrimary = 'primary';\nvar groupingSecondary = 'secondary';\nvar alignAuto = 'auto';\nvar alignRight = 'right';\nvar alignTopRight = 'topRight';\nvar alignBottomRight = 'bottomRight';\nvar alignLeft = 'left';\nvar alignTopLeft = 'topLeft';\nvar alignBottomLeft = 'bottomLeft';\nvar alignTop = 'top';\nvar alignBottom = 'bottom';\nvar axisTypeOrdinal = 'ordinal';\nvar axisTypeTime = 'time';\nvar axisTypeUtc = 'utc';\nvar axisTypeLinear = 'linear';\nvar axisTypeLog = 'log';\nvar anchorPointer = 'pointer';\nvar anchorClosest = 'closest';\nvar anchorCenter = 'center';\nvar anchorTop = 'top';\nvar anchorBottom = 'bottom';\nvar anchorLeft = 'left';\nvar anchorRight = 'right';\nvar anchorGridTop = 'gridTop';\nvar anchorGridBottom = 'gridBottom';\nvar anchorGridLeft = 'gridLeft';\nvar anchorGridRight = 'gridRight';\nvar focusAuto = 'auto';\nvar focusClosest = 'closest';\nvar focusElement = 'element';\nvar defaultStyles = {\n  line: {\n    strokeWidth: '1',\n    fill: 'transparent'\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: 'sans-serif'\n  }\n};\n\nvar radiansToDegrees = function radiansToDegrees(r) {\n  return r * (180 / Math.PI);\n};\n\nfunction AxisLinear(_ref) {\n  var id = _ref.id,\n      type = _ref.type,\n      position = _ref.position,\n      tickSizeInner = _ref.tickSizeInner,\n      tickSizeOuter = _ref.tickSizeOuter,\n      show = _ref.show,\n      showGrid = _ref.showGrid,\n      showTicks = _ref.showTicks,\n      styles = _ref.styles,\n      maxLabelRotation = _ref.maxLabelRotation,\n      labelRotationStep = _ref.labelRotationStep,\n      tickPadding = _ref.tickPadding,\n      ticks = _ref.ticks,\n      tickCount = _ref.tickCount,\n      minTickCount = _ref.minTickCount,\n      maxTickCount = _ref.maxTickCount,\n      scale = _ref.scale,\n      scaleMax = _ref.max,\n      transform = _ref.transform,\n      vertical = _ref.vertical,\n      format = _ref.format,\n      _ref$range = _slicedToArray(_ref.range, 2),\n      range0 = _ref$range[0],\n      range1 = _ref$range[1],\n      directionMultiplier = _ref.directionMultiplier,\n      tickOffset = _ref.tickOffset,\n      gridOffset = _ref.gridOffset,\n      spacing = _ref.spacing;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      rotation = _React$useState2[0],\n      setRotation = _React$useState2[1];\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark,\n      axisDimensions = _React$useContext2$.axisDimensions,\n      setChartState = _React$useContext2[1];\n\n  var elRef = React.useRef();\n  var visibleLabelStepRef = React.useRef();\n  var measureDimensions = React.useCallback(function () {\n    if (!elRef.current) {\n      if (axisDimensions[position] && axisDimensions[position][id]) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setChartState(function (state) {\n          var newAxes = state.axisDimensions[position] || {};\n          delete newAxes[id];\n          return _objectSpread({}, state, {\n            axisDimensions: _objectSpread({}, state.axisDimensions, _defineProperty({}, position, newAxes))\n          });\n        });\n      }\n\n      return;\n    }\n\n    var labelDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll('.tickLabel'))).map(function (el) {\n      var rect = el.getBoundingClientRect();\n      return {\n        width: rect.width,\n        height: rect.height\n      };\n    });\n    var tickSpace = !vertical ? gridWidth : gridHeight;\n    var calculatedTickCount = tickCount;\n    var width = 0;\n    var height = 0;\n    var top = 0;\n    var bottom = 0;\n    var left = 0;\n    var right = 0;\n    var smallestTickGap = 100000; // This is just a ridiculously large tick spacing that would never happen (hopefully)\n    // First find the dimensions of each tick\n\n    var tickDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll('.tick'))).map(function (el) {\n      return el.getBoundingClientRect();\n    }); // Then, determine the smallest gap in ticks on the axis\n\n    tickDims.reduce(function (prev, current) {\n      if (prev) {\n        var gap = vertical ? current.top - prev.top : current.left - prev.left;\n        smallestTickGap = gap < smallestTickGap ? gap : smallestTickGap;\n      }\n\n      return current;\n    }, false);\n    var firstLabelDim = labelDims[0] || {\n      width: 0,\n      height: 0\n    };\n    var lastLabelDim = labelDims[labelDims.length - 1] || {\n      width: 0,\n      height: 0 // Then determine the largest label\n\n    };\n\n    var largestLabel = _objectSpread({}, firstLabelDim, {\n      _overflow: 0 // Determine the largest label on the axis\n\n    });\n\n    labelDims.forEach(function (labelDim) {\n      labelDim._overflow = !vertical ? labelDim.width : labelDim.height - smallestTickGap;\n\n      if (labelDim._overflow > 0 && labelDim._overflow > largestLabel._overflow) {\n        largestLabel = labelDim;\n      }\n    });\n    var largestLabelSize = !vertical ? largestLabel.width : largestLabel.height; // We need to detect auto tick mode\n\n    if ((vertical || type !== 'ordinal') && tickCount === 'auto') {\n      // if it's on, determine how many ticks we could display if they were all flat\n      // How many ticks can we fit in the available axis space?\n      calculatedTickCount = Math.max(minTickCount, Math.min(Math.floor((tickSpace + largestLabelSize - tickPadding) / (largestLabelSize + tickPadding * 2)), maxTickCount));\n    } else if (!vertical) {\n      // Otherwise, if it's horizontal, then we need to determine axis rotation\n      // This is the raw mathematical rotation, using acosign and radians\n      // (some tricky stuff I found on some geomoetry forum. Can't remember where though)\n      var newRotation = Math.min(Math.max(Math.abs(radiansToDegrees(Math.acos(smallestTickGap / (largestLabel.width + tickPadding)))), 0), maxLabelRotation); // Make sure the rotation isn't NaN\n\n      newRotation = Number.isNaN(newRotation) ? 0 : newRotation; // Round the rotation to the nearest rotationStep\n\n      newRotation = Math.ceil(Math.ceil(newRotation / labelRotationStep) * labelRotationStep);\n\n      if (newRotation === 0 || newRotation === maxLabelRotation || Math.abs(newRotation) - Math.abs(rotation) > 5) {\n        setRotation(function () {\n          return position === 'top' ? -newRotation : newRotation;\n        });\n      }\n    }\n\n    var newVisibleLabelStep = Math.ceil(tickPadding / smallestTickGap);\n\n    if (visibleLabelStepRef.current !== newVisibleLabelStep) {\n      visibleLabelStepRef.current = newVisibleLabelStep;\n    }\n\n    if (!vertical) {\n      // Add width overflow from the first and last ticks\n      // const leftWidth = firstLabelDim.width\n      // const rightWidth = lastLabelDim.width\n      // if (rotation) {\n      //   right = tickPadding\n      //   left = Math.abs(Math.ceil(Math.cos(rotation) * leftWidth)) - barSize / 2\n      // } else {\n      //   left = Math.ceil(leftWidth / 2)\n      //   right = Math.ceil(rightWidth / 2)\n      // }\n      height = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the height of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.height);\n      })));\n    } else {\n      // Add height overflow from the first and last ticks\n      top = Math.ceil(firstLabelDim.height / 2);\n      bottom = Math.ceil(lastLabelDim.height / 2);\n      width = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the width of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.width);\n      })));\n    }\n\n    var newDimensions = {\n      width: width,\n      height: height,\n      top: top,\n      bottom: bottom,\n      left: left,\n      right: right,\n      tickCount: calculatedTickCount // Only update the axisDimensions if something has changed\n\n    };\n\n    if (!axisDimensions || !axisDimensions[position] || !axisDimensions[position][id] || Object.keys(newDimensions).some(function (key) {\n      return newDimensions[key] !== axisDimensions[position][id][key];\n    })) {\n      setChartState(function (state) {\n        return _objectSpread({}, state, {\n          axisDimensions: _objectSpread({}, state.axisDimensions, _defineProperty({}, position, _objectSpread({}, state.axisDimensions[position] || {}, _defineProperty({}, id, newDimensions))))\n        });\n      });\n    }\n  }, [axisDimensions, gridHeight, gridWidth, id, labelRotationStep, maxLabelRotation, maxTickCount, minTickCount, position, rotation, setChartState, tickCount, tickPadding, tickSizeInner, tickSizeOuter, type, vertical]);\n  var previousRotation = usePrevious(rotation); // Measure after if needed\n\n  React.useLayoutEffect(function () {\n    if (previousRotation === rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]); // Measure after if needed\n\n  React.useEffect(function () {\n    if (previousRotation !== rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]);\n  return React.useMemo(function () {\n    // Not ready? Render null\n    if (!show) {\n      return null;\n    }\n\n    var axisPath;\n\n    if (vertical) {\n      if (position === positionLeft) {\n        axisPath = \"\\n        M \".concat(-tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(-tickSizeOuter, \"\\n      \");\n      } else {\n        axisPath = \"\\n        M \".concat(tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(tickSizeOuter, \"\\n      \");\n      }\n    } else if (position === positionBottom) {\n      axisPath = \"\\n        M 0, \".concat(tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(tickSizeOuter, \"\\n      \");\n    } else {\n      axisPath = \"\\n        M 0, \".concat(-tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(-tickSizeOuter, \"\\n              \");\n    }\n\n    var showGridLine;\n\n    if (typeof showGrid === 'boolean') {\n      showGridLine = showGrid;\n    } else if (type === axisTypeOrdinal) {\n      showGridLine = false;\n    } else {\n      showGridLine = true;\n    } // Combine default styles with style props\n\n\n    var axisStyles = _objectSpread({}, defaultStyles, styles);\n\n    return React.createElement(Group, {\n      ref: elRef,\n      className: \"Axis\",\n      style: {\n        pointerEvents: 'none',\n        transform: position === positionRight ? Utils.translateX(gridWidth) : position === positionBottom ? Utils.translateY(gridHeight) : undefined\n      }\n    }, React.createElement(Path$1, {\n      className: \"domain\",\n      d: axisPath,\n      style: _objectSpread({\n        stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)'\n      }, axisStyles.line)\n    }), React.createElement(Group, {\n      className: \"ticks\",\n      style: {}\n    }, ticks.map(function (tick, i) {\n      return React.createElement(Group, {\n        key: [String(tick), i].join('_'),\n        className: \"tick\",\n        style: {\n          transform: transform(scale(tick) || 0)\n        }\n      }, showGridLine && React.createElement(Line, {\n        className: \"gridLine\",\n        x1: vertical ? 0 : gridOffset,\n        x2: vertical ? scaleMax : gridOffset,\n        y1: vertical ? gridOffset : 0,\n        y2: vertical ? gridOffset : scaleMax,\n        style: _objectSpread({\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), showTicks ? React.createElement(\"g\", {\n        className: \"labelGroup\"\n      }, React.createElement(Line, {\n        className: \"tickline\",\n        x1: vertical ? 0 : tickOffset,\n        x2: vertical ? directionMultiplier * tickSizeInner : tickOffset,\n        y1: vertical ? tickOffset : 0,\n        y2: vertical ? tickOffset : directionMultiplier * tickSizeInner,\n        style: _objectSpread({\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), React.createElement(Text, {\n        className: \"tickLabel\",\n        style: _objectSpread({\n          fill: dark ? 'white' : 'black'\n        }, axisStyles.tick, {\n          transform: \"\".concat(Utils.translate(vertical ? directionMultiplier * spacing : tickOffset, vertical ? tickOffset : directionMultiplier * spacing), \" rotate(\").concat(-rotation, \"deg)\")\n        }),\n        dominantBaseline: rotation ? 'central' : position === positionBottom ? 'hanging' : position === positionTop ? 'alphabetic' : 'central',\n        textAnchor: rotation ? 'end' : position === positionRight ? 'start' : position === positionLeft ? 'end' : 'middle'\n      }, String(format(tick, i)))) : null);\n    })));\n  }, [dark, directionMultiplier, format, gridHeight, gridOffset, gridWidth, position, range0, range1, rotation, scale, scaleMax, show, showGrid, showTicks, spacing, styles, tickOffset, tickSizeInner, tickSizeOuter, ticks, transform, type, vertical]);\n}\n\nvar Axis =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Axis, _React$Component);\n\n  function Axis() {\n    _classCallCheck(this, Axis);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Axis).apply(this, arguments));\n  }\n\n  _createClass(Axis, [{\n    key: \"render\",\n    value: function render() {\n      var type = this.props.type; // if (type === 'pie') {\n      //   return <AxisPie {...this.props} />\n      // }\n\n      return React.createElement(AxisLinear, this.props);\n    }\n  }]);\n\n  return Axis;\n}(React.Component);\n\nvar triangleSize = 7;\n\nvar getBackgroundColor = function getBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)';\n};\n\nfunction Tooltip() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var primaryAxes = chartState.primaryAxes,\n      secondaryAxes = chartState.secondaryAxes,\n      gridX = chartState.gridX,\n      gridY = chartState.gridY,\n      gridWidth = chartState.gridWidth,\n      gridHeight = chartState.gridHeight,\n      dark = chartState.dark,\n      focused = chartState.focused,\n      latestFocused = chartState.latestFocused,\n      getDatumStyle = chartState.getDatumStyle,\n      tooltip = chartState.tooltip;\n  var elRef = React.useRef();\n  var tooltipElRef = React.useRef();\n  var previousShowRef = React.useRef();\n\n  var _ref = tooltip || {},\n      align = _ref.align,\n      alignPriority = _ref.alignPriority,\n      padding = _ref.padding,\n      tooltipArrowPadding = _ref.tooltipArrowPadding,\n      arrowPosition = _ref.arrowPosition,\n      render = _ref.render,\n      anchor = _ref.anchor,\n      show = _ref.show;\n\n  var _React$useState = React.useState(align || 'auto'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      finalAlign = _React$useState2[0],\n      setFinalAlign = _React$useState2[1];\n\n  React.useEffect(function () {\n    previousShowRef.current = show;\n  }, [show]);\n  React.useLayoutEffect(function () {\n    if (align !== 'auto' || !elRef.current || !show || !anchor) {\n      return;\n    }\n\n    var space = {\n      left: Infinity,\n      top: Infinity,\n      right: Infinity,\n      bottom: Infinity\n    };\n    var container = elRef.current;\n    var gridDims = container.getBoundingClientRect();\n    var tooltipDims = tooltipElRef.current.getBoundingClientRect();\n\n    while (container !== document.body) {\n      container = container.parentElement;\n\n      var _window$getComputedSt = window.getComputedStyle(container),\n          overflowX = _window$getComputedSt.overflowX,\n          overflowY = _window$getComputedSt.overflowY;\n\n      if (container === document.body || [overflowX, overflowY].find(function (d) {\n        return ['auto', 'hidden'].includes(d);\n      })) {\n        var containerDims = container.getBoundingClientRect();\n        var left = gridDims.left - containerDims.left + anchor.x;\n        var top = gridDims.top - containerDims.top + anchor.y;\n        var right = containerDims.width - left;\n        var bottom = containerDims.height - top;\n        space.left = Math.min(space.left, left);\n        space.top = Math.min(space.top, top);\n        space.right = Math.min(space.right, right);\n        space.bottom = Math.min(space.bottom, bottom);\n      }\n    }\n\n    var resolvedAlign = null;\n    alignPriority.forEach(function (priority) {\n      if (resolvedAlign) {\n        return;\n      }\n\n      var fits = {\n        left: space.left - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        right: space.right - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        top: space.top - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height && space.left > tooltipDims.width / 2,\n        bottom: space.bottom - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height,\n        centeredFromLeft: space.left > tooltipDims.width / 2,\n        centeredFromRight: space.right > tooltipDims.width / 2,\n        centeredFromTop: space.top > tooltipDims.height / 2,\n        centeredFromBottom: space.bottom > tooltipDims.height / 2\n      };\n\n      if (priority === 'left') {\n        if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'right') {\n        if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'top') {\n        if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottom') {\n        if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'topLeft') {\n        if (fits.top && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'topRight') {\n        if (fits.top && fits.right) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottomLeft') {\n        if (fits.bottom && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottomRight') {\n        if (fits.bottom && fits.right) {\n          resolvedAlign = priority;\n        }\n      }\n    });\n\n    if (resolvedAlign !== finalAlign) {\n      setFinalAlign(resolvedAlign);\n    }\n  }, [align, alignPriority, anchor, finalAlign, padding, show, tooltipArrowPadding]);\n\n  if (!tooltip) {\n    return null;\n  }\n\n  var resolvedFocused = focused || latestFocused;\n  var alignX = 0;\n  var alignY = -50;\n  var triangleStyles = {};\n  var backgroundColor = getBackgroundColor(dark);\n  var resolvedArrowPosition = arrowPosition;\n\n  if (finalAlign === 'top') {\n    alignX = -50;\n    alignY = -100;\n  } else if (finalAlign === 'topRight') {\n    alignX = 0;\n    alignY = -100;\n  } else if (finalAlign === 'right') {\n    alignX = 0;\n    alignY = -50;\n  } else if (finalAlign === 'bottomRight') {\n    alignX = 0;\n    alignY = 0;\n  } else if (finalAlign === 'bottom') {\n    alignX = -50;\n    alignY = 0;\n  } else if (finalAlign === 'bottomLeft') {\n    alignX = -100;\n    alignY = 0;\n  } else if (finalAlign === 'left') {\n    alignX = -100;\n    alignY = -50;\n  } else if (finalAlign === 'topLeft') {\n    alignX = -100;\n    alignY = -100;\n  } else if (finalAlign === 'center') {\n    alignX = -50;\n    alignY = -50;\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === 'left') {\n      resolvedArrowPosition = 'right';\n    } else if (finalAlign === 'right') {\n      resolvedArrowPosition = 'left';\n    } else if (finalAlign === 'top') {\n      resolvedArrowPosition = 'bottom';\n    } else if (finalAlign === 'bottom') {\n      resolvedArrowPosition = 'top';\n    } else if (finalAlign === 'topRight') {\n      resolvedArrowPosition = 'bottomLeft';\n    } else if (finalAlign === 'bottomRight') {\n      resolvedArrowPosition = 'topLeft';\n    } else if (finalAlign === 'topLeft') {\n      resolvedArrowPosition = 'bottomRight';\n    } else if (finalAlign === 'bottomLeft') {\n      resolvedArrowPosition = 'topRight';\n    }\n  }\n\n  if (resolvedArrowPosition === 'bottom') {\n    triangleStyles = {\n      top: '100%',\n      left: '50%',\n      transform: 'translate3d(-50%, 0%, 0)',\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderTop: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'top') {\n    triangleStyles = {\n      top: '0%',\n      left: '50%',\n      transform: 'translate3d(-50%, -100%, 0)',\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'right') {\n    triangleStyles = {\n      top: '50%',\n      left: '100%',\n      transform: 'translate3d(0%, -50%, 0)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'left') {\n    triangleStyles = {\n      top: '50%',\n      left: '0%',\n      transform: 'translate3d(-100%, -50%, 0)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'topRight') {\n    triangleStyles = {\n      top: '0%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'bottomRight') {\n    triangleStyles = {\n      top: '100%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'topLeft') {\n    triangleStyles = {\n      top: '0%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'bottomLeft') {\n    triangleStyles = {\n      top: '100%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else {\n    triangleStyles = {\n      opacity: 0\n    };\n  }\n\n  var primaryAxis = Utils.getAxisByAxisID(primaryAxes, resolvedFocused ? resolvedFocused.series.primaryAxisID : null);\n  var secondaryAxis = Utils.getAxisByAxisID(secondaryAxes, resolvedFocused ? resolvedFocused.series.secondaryAxisID : null);\n  var resolvedHorizontalPadding = padding + anchor.horizontalPadding;\n  var resolvedVerticalPadding = padding + anchor.verticalPadding;\n\n  var renderProps = _objectSpread({}, chartState, chartState.tooltip, {\n    datum: resolvedFocused,\n    getStyle: function getStyle(datum) {\n      return datum.getStatusStyle(resolvedFocused, getDatumStyle);\n    },\n    primaryAxis: primaryAxis,\n    secondaryAxis: secondaryAxis\n  });\n\n  var renderedChildren = render(renderProps);\n  var animateCoords;\n\n  if (previousShowRef.current === show) {\n    animateCoords = true;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"tooltip-wrap\",\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      left: \"\".concat(gridX, \"px\"),\n      top: \"\".concat(gridY, \"px\"),\n      width: \"\".concat(gridWidth, \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      opacity: show ? 1 : 0,\n      transition: 'all .3s ease'\n    },\n    ref: function ref(el) {\n      elRef.current = el;\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: Utils.translate(anchor.x, anchor.y),\n      transition: animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      transform: \"translate3d(\".concat(alignX, \"%, \").concat(alignY, \"%, 0)\"),\n      padding: \"\".concat(tooltipArrowPadding + resolvedVerticalPadding, \"px \").concat(tooltipArrowPadding + resolvedHorizontalPadding, \"px\"),\n      width: 'auto',\n      transition: 'all .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    ref: function ref(el) {\n      tooltipElRef.current = el;\n    },\n    style: {\n      fontSize: '12px',\n      padding: '5px',\n      background: getBackgroundColor(dark),\n      color: dark ? 'black' : 'white',\n      borderRadius: '3px',\n      position: 'relative'\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'absolute',\n      width: 0,\n      height: 0\n    }, triangleStyles, {\n      transition: animateCoords ? 'all .2s ease' : 'none'\n    })\n  }), renderedChildren))));\n}\n\nvar getLineBackgroundColor = function getLineBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)';\n};\n\nvar getBackgroundColor$1 = function getBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)';\n};\n\nfunction Cursor(_ref) {\n  var primary = _ref.primary;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      primaryCursor = _React$useContext2$.primaryCursor,\n      secondaryCursor = _React$useContext2$.secondaryCursor,\n      focused = _React$useContext2$.focused,\n      latestFocused = _React$useContext2$.latestFocused,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      dark = _React$useContext2$.dark;\n\n  var resolvedFocused = focused || latestFocused;\n  var cursor = primary ? primaryCursor : secondaryCursor;\n\n  var _ref2 = cursor || {},\n      showLine = _ref2.showLine,\n      showLabel = _ref2.showLabel,\n      resolvedValue = _ref2.resolvedValue,\n      snap = _ref2.snap,\n      render = _ref2.render,\n      axis = _ref2.axis,\n      siblingAxis = _ref2.siblingAxis,\n      resolvedShow = _ref2.resolvedShow;\n\n  var latestValue = useLatest(resolvedValue, typeof resolvedValue !== 'undefined');\n  var previousShowRef = React.useRef();\n  React.useEffect(function () {\n    previousShowRef.current = resolvedShow;\n  }, [resolvedShow]);\n\n  if (!cursor) {\n    return null;\n  } // Should we animate?\n\n\n  var animated = snap || axis.type === 'ordinal'; // Get the sibling range\n\n  var siblingRange = siblingAxis.scale.range();\n  var x;\n  var y;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n  var alignPctX;\n  var alignPctY; // Vertical alignment\n\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    x1 = siblingRange[0];\n    x2 = siblingRange[1];\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n\n    if (axis.position === 'left') {\n      alignPctX = -100;\n      alignPctY = -50;\n    } else {\n      alignPctX = 0;\n      alignPctY = -50;\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    y1 = siblingRange[0];\n    y2 = siblingRange[1];\n\n    if (axis.position === 'top') {\n      alignPctX = -500;\n      alignPctY = -100;\n    } else {\n      alignPctX = -50;\n      alignPctY = 0;\n    }\n  }\n\n  var renderProps = _objectSpread({}, cursor);\n\n  renderProps.formattedValue = String(axis.vertical ? typeof latestValue !== 'undefined' ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : '' : typeof latestValue !== 'undefined' ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : '');\n  var lineStartX = Math.min(x1, x2);\n  var lineStartY = Math.min(y1, y2);\n  var lineEndX = Math.max(x1, x2);\n  var lineEndY = Math.max(y1, y2);\n  var bubbleX = axis.vertical && axis.RTL ? lineEndX : x1 + (!axis.vertical ? (x2 - x1) / 2 : 0) + (!axis.vertical ? 1 : 0);\n  var bubbleY = !axis.vertical && axis.RTL ? lineStartY : y1 + (axis.vertical ? (y2 - y1) / 2 : 0) + (axis.vertical ? 1 : 0);\n  var lineHeight = Math.max(lineEndY - lineStartY, 0);\n  var lineWidth = Math.max(lineEndX - lineStartX, 0);\n  var animateCoords;\n\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  var renderedChildren = render(renderProps);\n  return React.createElement(\"div\", {\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: resolvedShow ? 1 : 0,\n      transition: 'all .3s ease'\n    },\n    className: \"Cursor\"\n  }, showLine ? React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(lineStartX, lineStartY),\n      width: \"\".concat(lineWidth, \"px\"),\n      height: \"\".concat(lineHeight, \"px\"),\n      background: getLineBackgroundColor(dark),\n      transition: animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }) : null, showLabel ? React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(bubbleX, bubbleY),\n      transition: animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      padding: '5px',\n      fontSize: '10px',\n      background: getBackgroundColor$1(dark),\n      color: getBackgroundColor$1(!dark),\n      borderRadius: '3px',\n      position: 'relative',\n      transform: \"translate3d(\".concat(alignPctX, \"%, \").concat(alignPctY, \"%, 0)\"),\n      whiteSpace: 'nowrap'\n    }\n  }, renderedChildren)) : null);\n}\n\nfunction Brush() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      pointer = _React$useContext2$.pointer,\n      brush = _React$useContext2$.brush,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark;\n\n  if (!brush) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Brush\",\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: pointer.dragging ? Math.abs(pointer.sourceX - pointer.x) < 20 ? 0.5 : 1 : 0\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'absolute',\n      transform: Utils.translate(Math.min(pointer.x, pointer.sourceX), 0),\n      width: \"\".concat(Math.abs(pointer.x - pointer.sourceX), \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      background: dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)'\n    }, brush.style)\n  }));\n}\n\nBrush.defaultProps = {\n  onSelect: function onSelect() {}\n};\nvar ChartInner = React.forwardRef(function ChartInner(_ref, ref) {\n  var className = _ref.className,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"style\"]);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      _React$useContext4$ = _React$useContext4[0],\n      width = _React$useContext4$.width,\n      height = _React$useContext4$.height,\n      offset = _React$useContext4$.offset,\n      gridX = _React$useContext4$.gridX,\n      gridY = _React$useContext4$.gridY,\n      stackData = _React$useContext4$.stackData,\n      primaryAxes = _React$useContext4$.primaryAxes,\n      secondaryAxes = _React$useContext4$.secondaryAxes,\n      renderSVG = _React$useContext4$.renderSVG,\n      onClick = _React$useContext4$.onClick,\n      seriesOptions = _React$useContext4$.seriesOptions,\n      getSeriesOrder = _React$useContext4$.getSeriesOrder,\n      focused = _React$useContext4$.focused,\n      setChartState = _React$useContext4[1];\n\n  var svgRef = React.useRef();\n  React.useLayoutEffect(function () {\n    if (!svgRef.current) {\n      return;\n    }\n\n    var current = svgRef.current.getBoundingClientRect();\n\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setChartState(function (state) {\n        return _objectSpread({}, state, {\n          offset: {\n            left: current.left,\n            top: current.top\n          }\n        });\n      });\n    }\n  });\n\n  var _onMouseLeave = function onMouseLeave(e) {\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        focused: null\n      });\n    });\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          active: false\n        })\n      });\n    });\n  };\n\n  var rafRef = React.useRef();\n\n  var _onMouseMove = function onMouseMove(e) {\n    if (rafRef.current) {\n      raf_1.cancel(rafRef.current);\n    }\n\n    rafRef.current = raf_1(function () {\n      rafRef.current = null;\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      setChartState(function (state) {\n        var x = clientX - offset.left - gridX;\n        var y = clientY - offset.top - gridY;\n\n        var pointer = _objectSpread({}, state.pointer, {\n          active: true,\n          x: x,\n          y: y,\n          dragging: state.pointer && state.pointer.down\n        });\n\n        return _objectSpread({}, state, {\n          pointer: pointer\n        });\n      });\n    });\n  };\n\n  var onMouseUp = function onMouseUp() {\n    document.removeEventListener('mouseup', onMouseUp);\n    document.removeEventListener('mousemove', _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          down: false,\n          dragging: false,\n          released: {\n            x: state.pointer.x,\n            y: state.pointer.y\n          }\n        })\n      });\n    });\n  };\n\n  var _onMouseDown = function onMouseDown() {\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          sourceX: state.pointer.x,\n          sourceY: state.pointer.y,\n          down: true\n        })\n      });\n    });\n  }; // Reverse the stack order for proper z-indexing\n\n\n  var reversedStackData = _toConsumableArray(stackData).reverse();\n\n  var orderedStackData = getSeriesOrder(reversedStackData);\n  var focusedSeriesIndex = focused ? orderedStackData.findIndex(function (series) {\n    return series.id === focused.series.id;\n  }) : -1; // Bring focused series to the front\n\n  var focusOrderedStackData = focused ? [].concat(_toConsumableArray(orderedStackData.slice(0, focusedSeriesIndex)), _toConsumableArray(orderedStackData.slice(focusedSeriesIndex + 1)), [orderedStackData[focusedSeriesIndex]]) : orderedStackData;\n  var stacks = focusOrderedStackData.map(function (stack) {\n    return React.createElement(stack.Component, _extends({\n      key: stack.id\n    }, seriesOptions[stack.index], {\n      series: stack,\n      stackData: stackData\n    }));\n  });\n  return React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    className: \"ReactChart \".concat(className || ''),\n    style: _objectSpread({\n      width: width,\n      height: height,\n      position: 'relative'\n    }, style)\n  }), React.createElement(\"svg\", {\n    ref: svgRef,\n    style: {\n      width: width,\n      height: height,\n      overflow: 'hidden'\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return e.persist() || _onMouseLeave(e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      return e.persist() || _onMouseDown(e);\n    },\n    onClick: onClick\n  }, React.createElement(\"g\", {\n    style: {\n      transform: Utils.translate(gridX, gridY)\n    }\n  }, React.createElement(Rectangle // To ensure the pointer always has something to hit\n  , {\n    x1: -gridX,\n    x2: width - gridX,\n    y1: -gridY,\n    y2: height - gridY,\n    style: {\n      opacity: 0\n    }\n  }), React.createElement(Voronoi, null), React.createElement(\"g\", {\n    className: \"axes\"\n  }, [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n    return React.createElement(Axis, _extends({\n      key: axis.id\n    }, axis));\n  })), React.createElement(\"g\", {\n    className: \"Series\",\n    style: {\n      pointerEvents: 'none'\n    }\n  }, stacks)), renderSVG ? renderSVG({\n    chartState: chartState,\n    setChartState: setChartState\n  }) : null), React.createElement(Cursor, {\n    primary: true\n  }), React.createElement(Cursor, null), React.createElement(Brush, null), React.createElement(Tooltip, null));\n});\n\nvar calculateMaterializeData = function calculateMaterializeData(_ref) {\n  var data = _ref.data,\n      getSeriesID = _ref.getSeriesID,\n      getLabel = _ref.getLabel,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getDatums = _ref.getDatums,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR;\n  return React.useMemo(function () {\n    var materializedData = []; // First access the data, and provide it to the context\n\n    for (var seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      var originalSeries = data[seriesIndex];\n      var seriesID = getSeriesID(originalSeries, seriesIndex, data);\n      var seriesLabel = getLabel(originalSeries, seriesIndex, data);\n      var primaryAxisID = getPrimaryAxisID(originalSeries, seriesIndex, data);\n      var secondaryAxisID = getSecondaryAxisID(originalSeries, seriesIndex, data);\n      var originalDatums = getDatums(originalSeries, seriesIndex, data);\n      var datums = [];\n\n      for (var datumIndex = 0; datumIndex < originalDatums.length; datumIndex++) {\n        var originalDatum = originalDatums[datumIndex];\n        datums[datumIndex] = {\n          originalSeries: originalSeries,\n          seriesIndex: seriesIndex,\n          seriesID: seriesID,\n          seriesLabel: seriesLabel,\n          index: datumIndex,\n          originalDatum: originalDatum,\n          primary: getPrimary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          secondary: getSecondary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          r: getR(originalDatum, datumIndex, originalSeries, seriesIndex, data)\n        };\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries: originalSeries,\n        index: seriesIndex,\n        id: seriesID,\n        label: seriesLabel,\n        primaryAxisID: primaryAxisID,\n        secondaryAxisID: secondaryAxisID,\n        datums: datums\n      };\n    }\n\n    return materializedData;\n  }, [data, getDatums, getLabel, getPrimary, getPrimaryAxisID, getR, getSecondary, getSecondaryAxisID, getSeriesID]);\n};\n\nfunction usePropsMemo(fn) {\n  var obj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var watchRef = React.useRef({\n    style: {},\n    props: {}\n  });\n  var valueRef = React.useRef();\n\n  var _obj$style = obj.style,\n      style = _obj$style === void 0 ? {} : _obj$style,\n      props = _objectWithoutProperties(obj, [\"style\"]);\n\n  if (Utils.shallowDiff(watchRef.current.style, style) || Utils.shallowDiff(watchRef.current.props, props)) {\n    watchRef.current = obj;\n    valueRef.current = fn();\n  }\n\n  return valueRef.current;\n}\n\nfunction useSeriesStyle(series) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getSeriesStyle = _React$useContext2$.getSeriesStyle;\n\n  return series.getStatusStyle(focused, getSeriesStyle);\n}\n\nfunction useDatumStyle(datum) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getDatumStyle = _React$useContext2$.getDatumStyle;\n\n  return datum.getStatusStyle(focused, getDatumStyle);\n}\n\nvar defaultStyle$4 = {\n  r: 2,\n  strokeWidth: '1',\n  stroke: '#000000',\n  fill: '#000000',\n  opacity: 1\n};\n\nfunction Circle$1(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      r = _ref.r,\n      style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"x\", \"y\", \"r\", \"style\"]);\n\n  var resolvedStyle = _objectSpread({}, defaultStyle$4, style);\n\n  return React.createElement(\"circle\", _extends({}, rest, {\n    cx: x || 0,\n    cy: y || 0,\n    r: 1,\n    style: resolvedStyle\n  }));\n}\n\nvar pathDefaultStyle = {\n  strokeWidth: 2\n};\nvar circleDefaultStyle = {\n  r: 2\n};\n\nfunction Line$1(_ref) {\n  var series = _ref.series,\n      showPoints = _ref.showPoints,\n      curve = _ref.curve;\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var path = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var pathProps = {\n    d: path,\n    style: _objectSpread({}, pathDefaultStyle, style, style.line, {\n      fill: 'none'\n    })\n  };\n  var renderedPath = usePropsMemo(function () {\n    return React.createElement(Path$1, pathProps);\n  }, pathProps);\n  return React.useMemo(function () {\n    return React.createElement(\"g\", null, renderedPath, showPoints && series.datums.map(function (datum, i) {\n      return React.createElement(Point, {\n        key: i,\n        datum: datum,\n        style: style\n      });\n    }));\n  }, [renderedPath, series.datums, showPoints, style]);\n}\n\nLine$1.defaultProps = {\n  curve: monotoneX\n};\n\nLine$1.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor];\n};\n\nLine$1.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var dataStyle = useDatumStyle(datum);\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread({}, circleDefaultStyle, style, style.circle, dataStyle, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar circleDefaultStyle$1 = {\n  r: 2\n};\n\nfunction Bubble(_ref) {\n  var series = _ref.series;\n  var style = useSeriesStyle(series);\n  return React.createElement(\"g\", null, series.datums.map(function (datum, i) {\n    return React.createElement(Point$1, {\n      key: i,\n      datum: datum,\n      style: style\n    });\n  }));\n}\n\nBubble.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor];\n};\n\nBubble.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point$1(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n  var dataStyle = useDatumStyle(datum);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread({}, circleDefaultStyle$1, typeof datum.r !== 'undefined' ? {\n      r: datum.r\n    } : {}, style, style.circle, dataStyle, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar defaultAreaStyle = {\n  strokeWidth: 0\n};\nvar lineDefaultStyle = {\n  strokeWidth: 3\n};\n\nfunction Area(_ref) {\n  var series = _ref.series,\n      showOrphans = _ref.showOrphans,\n      curve = _ref.curve;\n  var areaFn = React.useMemo(function () {\n    return area().x(function (d) {\n      return d.x;\n    }).y0(function (d) {\n      return d.base;\n    }).y1(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var areaPath = React.useMemo(function () {\n    return areaFn(series.datums);\n  }, [areaFn, series.datums]);\n  var linePath = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var areaPathProps = {\n    d: areaPath,\n    style: _objectSpread({}, defaultAreaStyle, style, style.line)\n  };\n  var renderedAreaPath = usePropsMemo(function () {\n    return React.createElement(Path$1, areaPathProps);\n  }, areaPathProps);\n  var linePathProps = {\n    d: linePath,\n    style: _objectSpread({}, defaultAreaStyle, style, style.line, {\n      fill: 'none'\n    })\n  };\n  var renderedLinePath = usePropsMemo(function () {\n    return React.createElement(Path$1, linePathProps);\n  }, linePathProps);\n  return React.createElement(\"g\", null, renderedAreaPath, renderedLinePath, showOrphans && series.datums.map(function (datum, index, all) {\n    return React.createElement(OrphanLine, {\n      key: index,\n      datum: datum,\n      style: style,\n      all: all,\n      index: index\n    });\n  }));\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  curve: curveLinear\n};\n\nArea.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor, {\n    x: primaryAxis.vertical ? primaryAxis.position === 'left' ? datum.base - 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === 'bottom' ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nArea.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar OrphanLine = function OrphanLine(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style,\n      all = _ref4.all,\n      index = _ref4.index;\n  var prev = all[index - 1] || {\n    defined: false\n  };\n  var next = all[index + 1] || {\n    defined: false\n  };\n  var dataStyle = useDatumStyle(datum);\n  var lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: _objectSpread({}, lineDefaultStyle, style, style.line, dataStyle, dataStyle.line)\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined || prev.defined || next.defined) {\n      return null;\n    }\n\n    return React.createElement(Line, lineProps);\n  }, lineProps);\n};\n\nfunction Bar(_ref) {\n  var series = _ref.series;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      primaryAxes = _React$useContext2[0].primaryAxes;\n\n  var style = useSeriesStyle(series);\n\n  var _ref2 = series.primaryAxisID ? primaryAxes.find(function (d) {\n    return d.id === series.primaryAxisID;\n  }) : primaryAxes[0],\n      barOffset = _ref2.barOffset;\n\n  return React.createElement(\"g\", {\n    className: \"series bar\"\n  }, series.datums.map(function (datum, i) {\n    return React.createElement(BarPiece, _extends({\n      key: i\n    }, {\n      datum: datum,\n      barOffset: barOffset,\n      style: style\n    }));\n  }));\n}\n\nfunction BarPiece(_ref3) {\n  var datum = _ref3.datum,\n      barOffset = _ref3.barOffset,\n      style = _ref3.style;\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      primaryAxes = _React$useContext4[0].primaryAxes,\n      setChartState = _React$useContext4[1];\n\n  var x = datum ? datum.x : 0;\n  var y = datum ? datum.y : 0;\n  var base = datum ? datum.base : 0;\n  var size = datum ? datum.size : 0;\n  var x1;\n  var y1;\n  var x2;\n  var y2;\n\n  if (primaryAxes.find(function (d) {\n    return d.vertical;\n  })) {\n    x1 = base;\n    x2 = x;\n    y1 = y + barOffset;\n    y2 = y1 + size;\n  } else {\n    x1 = x + barOffset;\n    x2 = x1 + size;\n    y1 = y;\n    y2 = base;\n  }\n\n  var dataStyle = useDatumStyle(datum);\n  var rectangleProps = {\n    style: _objectSpread({\n      pointerEvents: 'all'\n    }, style, style.rectangle, dataStyle, dataStyle.rectangle),\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    return React.createElement(Rectangle, rectangleProps);\n  }, rectangleProps);\n}\n\nBar.plotDatum = function (datum, _ref4) {\n  var xAxis = _ref4.xAxis,\n      yAxis = _ref4.yAxis,\n      primaryAxis = _ref4.primaryAxis,\n      secondaryAxis = _ref4.secondaryAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = secondaryAxis.scale(datum.baseValue);\n  datum.size = primaryAxis.barSize; // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false);\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize; // Use the seriesTypeIndex here in case we have mixed types.\n\n    var seriesBandScaleOffset = primaryAxis.seriesBandScale(datum.seriesTypeIndex);\n\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset;\n    } else {\n      datum.y += seriesBandScaleOffset;\n    }\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2 // Adjust the anchor point for bars\n\n  };\n\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2;\n  } else {\n    datum.anchor.y += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2;\n  } // Set the pointer points (used in voronoi)\n\n\n  datum.boundingPoints = [// End of bar\n  datum.anchor, // Start of bar\n  {\n    x: primaryAxis.vertical ? primaryAxis.position === 'left' ? datum.base + 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === 'bottom' ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nBar.buildStyles = function (series, _ref5) {\n  var defaultColors = _ref5.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar seriesTypes = {\n  line: Line$1,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar // pie: Pie\n\n};\nvar defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: monotoneX\n};\nvar seriesPropType = PropTypes.oneOfType([PropTypes.shape({\n  type: PropTypes.string,\n  showPoints: PropTypes.bool,\n  showOrphans: PropTypes.bool,\n  curve: PropTypes.func\n}), PropTypes.func]);\n\nvar calculateSeriesOptions = function calculateSeriesOptions(_ref) {\n  var materializedData = _ref.materializedData,\n      series = _ref.series;\n  return React.useMemo(function () {\n    return materializedData.map(function (s, seriesIndex) {\n      var _defaultSeries = _objectSpread({}, defaultSeries, typeof series === 'function' ? series(s, seriesIndex) : series),\n          type = _defaultSeries.type,\n          rest = _objectWithoutProperties(_defaultSeries, [\"type\"]);\n\n      var renderer = seriesTypes[type];\n\n      if (!renderer) {\n        throw new Error(\"Could not find a registered series type for \".concat(type));\n      }\n\n      return _objectSpread({}, rest, {\n        type: type,\n        renderer: renderer\n      });\n    });\n  }, [materializedData, series]);\n};\n\nvar calculateSeriesTypes = function calculateSeriesTypes(_ref) {\n  var materializedData = _ref.materializedData,\n      seriesOptions = _ref.seriesOptions;\n  return React.useMemo(function () {\n    return materializedData.map(function (series, i) {\n      series.Component = seriesOptions[i].renderer;\n      return series;\n    }).map(function (series, i, all) {\n      var seriesTypeIndex = all.filter(function (d, j) {\n        return j < i && d.Component === series.Component;\n      }).length;\n      return _objectSpread({}, series, {\n        seriesTypeIndex: seriesTypeIndex,\n        datums: series.datums.map(function (datum) {\n          return _objectSpread({}, datum, {\n            seriesTypeIndex: seriesTypeIndex\n          });\n        })\n      });\n    });\n  }, [materializedData, seriesOptions]);\n};\n\nvar calculateDimensions = function calculateDimensions(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      axisDimensions = _ref.axisDimensions,\n      padding = _ref.padding,\n      offset = _ref.offset;\n  offset = React.useMemo(function () {\n    return {\n      left: offset.left || 0,\n      top: offset.top || 0\n    };\n  }, [offset]);\n\n  var _React$useMemo = React.useMemo(function () {\n    // Left\n    var axesLeftWidth = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'width') || 0;\n    var axesLeftTop = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'top') || 0;\n    var axesLeftBottom = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'bottom') || 0; // Right\n\n    var axesRightWidth = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'width') || 0;\n    var axesRightTop = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'top') || 0;\n    var axesRightBottom = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'bottom') || 0; // Top\n\n    var axesTopHeight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'height') || 0;\n    var axesTopLeft = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'left') || 0;\n    var axesTopRight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'right') || 0; // Bottom\n\n    var axesBottomHeight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'height') || 0;\n    var axesBottomLeft = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'left') || 0;\n    var axesBottomRight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'right') || 0;\n    var paddingLeft = padding.left || 0;\n    var paddingRight = padding.right || 0;\n    var paddingTop = padding.top || 0;\n    var paddingBottom = padding.bottom || 0;\n    var gridX = paddingLeft + Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft);\n    var gridY = paddingTop + Math.max(axesTopHeight, axesLeftTop, axesRightTop);\n    var gridWidth = width - paddingLeft - paddingRight - Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) - Math.max(axesRightWidth, axesTopRight, axesBottomRight);\n    var gridHeight = height - paddingTop - paddingBottom - Math.max(axesTopHeight, axesLeftTop, axesRightTop) - Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom);\n    return {\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight\n    };\n  }, [width, height, axisDimensions, padding]),\n      gridX = _React$useMemo.gridX,\n      gridY = _React$useMemo.gridY,\n      gridWidth = _React$useMemo.gridWidth,\n      gridHeight = _React$useMemo.gridHeight;\n\n  return {\n    offset: offset,\n    gridX: gridX,\n    gridY: gridY,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  };\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\n\nfunction sequence(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\n\nvar implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = _[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n        var key = value + \"\";\n        if (index.has(key)) continue;\n        index.set(key, domain.push(value));\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function (_) {\n    var _ref6, _ref7;\n\n    return arguments.length ? ((_ref6 = _, _ref7 = _slicedToArray2(_ref6, 2), r0 = _ref7[0], r1 = _ref7[1], _ref6), r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function (_) {\n    var _ref8, _ref9;\n\n    return (_ref8 = _, _ref9 = _slicedToArray2(_ref8, 2), r0 = _ref9[0], r1 = _ref9[1], _ref8), r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n\n  scale.step = function () {\n    return step;\n  };\n\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n\n  for (var key in definition) {\n    prototype[key] = definition[key];\n  }\n\n  return prototype;\n}\n\nfunction Color() {}\n\nvar _darker = 0.7;\n\nvar _brighter = 1 / _darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  displayable: function displayable() {\n    return this.rgb().displayable();\n  },\n  hex: function hex() {\n    return this.rgb().hex();\n  },\n  toString: function toString() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb(m >> 8 & 0xf | m >> 4 & 0x0f0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  ) : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n  : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function rgb() {\n    return this;\n  },\n  displayable: function displayable() {\n    return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: function hex() {\n    return \"#\" + _hex(this.r) + _hex(this.g) + _hex(this.b);\n  },\n  toString: function toString() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction _hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  displayable: function displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\n\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI; // https://beta.observablehq.com/@mbostock/lab-and-rgb\n\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n      x,\n      z;\n  if (r === g && g === b) x = z = y;else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z), lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z), lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z), this.opacity);\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function rgb() {\n    return labConvert(this).rgb();\n  }\n}));\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)),\n      // NaN if l=0 or l=1\n  h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(255 * (l + a * (A * cosh + B * sinh)), 255 * (l + a * (C * cosh + D * sinh)), 255 * (l + a * (E * cosh)), this.opacity);\n  }\n}));\n\nfunction constant$2(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant$2(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$2(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\n\nfunction array(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) {\n    x[i] = interpolateValue(a[i], b[i]);\n  }\n\n  for (; i < nb; ++i) {\n    c[i] = b[i];\n  }\n\n  return function (t) {\n    for (i = 0; i < na; ++i) {\n      c[i] = x[i](t);\n    }\n\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date();\n  return a = +a, b -= a, function (t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b -= a, function (t) {\n    return a + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolateValue(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function (t) {\n    for (k in i) {\n      c[k] = i[k](t);\n    }\n\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n      // scan index for next number in b\n  am,\n      // current match in a\n  bm,\n      // current match in b\n  bs,\n      // string preceding current number in b, if any\n  i = -1,\n      // index in s\n  s = [],\n      // string constants and placeholders\n  q = []; // number interpolators\n  // Coerce inputs to strings.\n\n  a = a + \"\", b = b + \"\"; // Interpolate pairs of numbers in a & b.\n\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n\n    bi = reB.lastIndex;\n  } // Add remains of b.\n\n\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  } // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n\n\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) {\n      s[(o = q[i]).i] = o.x(t);\n    }\n\n    return s.join(\"\");\n  });\n}\n\nfunction interpolateValue(a, b) {\n  var t = typeof b,\n      c;\n  return b == null || t === \"boolean\" ? constant$2(b) : (t === \"number\" ? interpolateNumber : t === \"string\" ? (c = color(b)) ? (b = c, rgb$1) : string : b instanceof color ? rgb$1 : b instanceof Date ? date : Array.isArray(b) ? array : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b -= a, function (t) {\n    return Math.round(a + b * t);\n  };\n}\n\nvar degrees = 180 / Math.PI;\nvar rho = Math.SQRT2;\n\nfunction constant$3(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction number(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constant$3(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0],\n      b = domain[domain.length - 1],\n      t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n} // normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\n\n\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n      d1 = domain[1],\n      r0 = range[0],\n      r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1; // Reverse descending domains.\n\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function (x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number), clamp === identity$1 || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity$1, scale) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n} // Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\n\n\nfunction formatDecimal(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n\n  var i,\n      coefficient = x.slice(0, i); // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}\n\nfunction exponent(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n} // [[fill]align][sign][symbol][0][width][,][.precision][~][type]\n\n\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width == null ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n}; // Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\n\n\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n\n      default:\n        if (i0 > 0) {\n          if (!+s[i]) break out;\n          i0 = 0;\n        }\n\n        break;\n    }\n  }\n\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": function _(x, p) {\n    return (x * 100).toFixed(p);\n  },\n  \"b\": function b(x) {\n    return Math.round(x).toString(2);\n  },\n  \"c\": function c(x) {\n    return x + \"\";\n  },\n  \"d\": function d(x) {\n    return Math.round(x).toString(10);\n  },\n  \"e\": function e(x, p) {\n    return x.toExponential(p);\n  },\n  \"f\": function f(x, p) {\n    return x.toFixed(p);\n  },\n  \"g\": function g(x, p) {\n    return x.toPrecision(p);\n  },\n  \"o\": function o(x) {\n    return Math.round(x).toString(8);\n  },\n  \"p\": function p(x, _p) {\n    return formatRounded(x * 100, _p);\n  },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function X(x) {\n    return Math.round(x).toString(16).toUpperCase();\n  },\n  \"x\": function x(_x) {\n    return Math.round(_x).toString(16);\n  }\n};\n\nfunction identity$2(x) {\n  return x;\n}\n\nvar prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\n\nfunction formatLocale(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity$2,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity$2,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type; // The \"n\" type is an alias for \",g\".\n\n    if (type === \"n\") comma = true, type = \"g\"; // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\"; // If zero fill is specified, padding goes after sign and before digits.\n\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\"; // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\"; // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type); // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n\n    precision = precision == null ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i,\n          n,\n          c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value; // Perform the initial formatting.\n\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision); // Trim insignificant zeros.\n\n        if (trim) value = formatTrim(value); // If a negative value rounds to zero during formatting, treat as positive.\n\n        if (valueNegative && +value === 0) valueNegative = false; // Compute the prefix and suffix.\n\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : \"-\" : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\"); // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      } // If the fill character is not \"0\", grouping is applied before padding.\n\n\n      if (comma && !zero) value = group(value, Infinity); // Compute the padding.\n\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\"; // If the fill character is \"0\", grouping is applied after padding.\n\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\"; // Reconstruct the final output based on the desired alignment.\n\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function () {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear$1() {\n  var scale = continuous(identity$1, identity$1);\n\n  scale.copy = function () {\n    return copy(scale, linear$1());\n  };\n\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n    return Math.pow(base, x);\n  };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n    return Math.log(x) / base;\n  });\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nfunction loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n    if (r = v < u) i = u, u = v, v = i;\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function floor(x) {\n        return pows(Math.floor(logs(x)));\n      },\n      ceil: function ceil(x) {\n        return pows(Math.ceil(logs(x)));\n      }\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nvar t0$1 = new Date(),\n    t1$1 = new Date();\n\nfunction newInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function (date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function (date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function (date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function (start, stop, step) {\n    var range = [],\n        previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n\n    do {\n      range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    } while (previous < start && start < stop);\n\n    return range;\n  };\n\n  interval.filter = function (test) {\n    return newInterval(function (date) {\n      if (date >= date) while (floori(date), !test(date)) {\n        date.setTime(date - 1);\n      }\n    }, function (date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function (start, end) {\n      t0$1.setTime(+start), t1$1.setTime(+end);\n      floori(t0$1), floori(t1$1);\n      return Math.floor(count(t0$1, t1$1));\n    };\n\n    interval.every = function (step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? function (d) {\n        return field(d) % step === 0;\n      } : function (d) {\n        return interval.count(0, d) % step === 0;\n      });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function () {// noop\n}, function (date, step) {\n  date.setTime(+date + step);\n}, function (start, end) {\n  return end - start;\n}); // An optimized implementation for this simple case.\n\nmillisecond.every = function (k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function (date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function (date, step) {\n    date.setTime(+date + step * k);\n  }, function (start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\nvar second = newInterval(function (date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function (date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n  return (end - start) / durationSecond;\n}, function (date) {\n  return date.getUTCSeconds();\n});\nvar minute = newInterval(function (date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getMinutes();\n});\nvar hour = newInterval(function (date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getHours();\n});\nvar day = newInterval(function (date) {\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setDate(date.getDate() + step);\n}, function (start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function (date) {\n  return date.getDate() - 1;\n});\n\nfunction weekday(i) {\n  return newInterval(function (date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar month = newInterval(function (date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n  return date.getMonth();\n});\nvar year = newInterval(function (date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function (date) {\n  return date.getFullYear();\n}); // An optimized implementation for this simple case.\n\nyear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar utcMinute = newInterval(function (date) {\n  date.setUTCSeconds(0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getUTCMinutes();\n});\nvar utcHour = newInterval(function (date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getUTCHours();\n});\nvar utcDay = newInterval(function (date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n  return (end - start) / durationDay;\n}, function (date) {\n  return date.getUTCDate() - 1;\n});\n\nfunction utcWeekday(i) {\n  return newInterval(function (date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function (start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\nvar utcMonth = newInterval(function (date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function (start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function (date) {\n  return date.getUTCMonth();\n});\nvar utcYear = newInterval(function (date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n  return date.getUTCFullYear();\n}); // An optimized implementation for this simple case.\n\nutcYear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {\n    y: y,\n    m: 0,\n    d: 1,\n    H: 0,\n    M: 0,\n    S: 0,\n    L: 0\n  };\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  }; // These recursive directive definitions must be deferred.\n\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function (date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function (string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week,\n          day$1;\n      if (i != string.length) return null; // If a UNIX timestamp is specified, return it.\n\n      if (\"Q\" in d) return new Date(d.Q); // The am-pm flag is 0 for AM, and 1 for PM.\n\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12; // Convert day-of-week and week-of-year to day-of-year.\n\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day$1 = week.getUTCDay();\n          week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day$1 = week.getDay();\n          week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n          week = day.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day$1 = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n      } // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n\n\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      } // Otherwise, all fields are in local time.\n\n\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function format(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    parse: function parse(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    },\n    utcFormat: function utcFormat(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    utcParse: function utcParse(specifier) {\n      var p = newParse(specifier, utcDate);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    }\n  };\n}\n\nvar pads = {\n  \"-\": \"\",\n  \"_\": \" \",\n  \"0\": \"0\"\n},\n    numberRe = /^\\s*\\d+/,\n    // note: ignores next directive\npercentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {},\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    map[names[i].toLowerCase()] = i;\n  }\n\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0] * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? thursday(d) : thursday.ceil(d);\n  return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$1;\nvar timeFormat;\nvar timeParse;\nvar utcFormat;\nvar utcParse;\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  timeFormat = locale$1.format;\n  timeParse = locale$1.parse;\n  utcFormat = locale$1.utcFormat;\n  utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString ? formatIsoNative : utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\") ? parseIsoNative : utcParse(isoSpecifier);\nvar durationSecond$1 = 1000,\n    durationMinute$1 = durationSecond$1 * 60,\n    durationHour$1 = durationMinute$1 * 60,\n    durationDay$1 = durationHour$1 * 24,\n    durationWeek$1 = durationDay$1 * 7,\n    durationMonth = durationDay$1 * 30,\n    durationYear = durationDay$1 * 365;\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$1(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity$1, identity$1),\n      invert = scale.invert,\n      domain = scale.domain;\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n  var tickIntervals = [[second, 1, durationSecond$1], [second, 5, 5 * durationSecond$1], [second, 15, 15 * durationSecond$1], [second, 30, 30 * durationSecond$1], [minute, 1, durationMinute$1], [minute, 5, 5 * durationMinute$1], [minute, 15, 15 * durationMinute$1], [minute, 30, 30 * durationMinute$1], [hour, 1, durationHour$1], [hour, 3, 3 * durationHour$1], [hour, 6, 6 * durationHour$1], [hour, 12, 12 * durationHour$1], [day, 1, durationDay$1], [day, 2, 2 * durationDay$1], [week, 1, durationWeek$1], [month, 1, durationMonth], [month, 3, 3 * durationMonth], [year, 1, durationYear]];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond : minute(date) < date ? formatSecond : hour(date) < date ? formatMinute : day(date) < date ? formatHour : month(date) < date ? week(date) < date ? formatDay : formatWeek : year(date) < date ? formatMonth : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10; // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function (i) {\n        return i[2];\n      }).right(tickIntervals, target);\n\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function (y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date$1);\n  };\n\n  scale.ticks = function (interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function (interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step)) ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function () {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nfunction scaleTime() {\n  return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nfunction scaleUtc() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n\nvar _scales;\n\nvar scales = (_scales = {}, _defineProperty(_scales, axisTypeLinear, linear$1), _defineProperty(_scales, axisTypeLog, log), _defineProperty(_scales, axisTypeTime, scaleTime), _defineProperty(_scales, axisTypeUtc, scaleUtc), _defineProperty(_scales, axisTypeOrdinal, band), _scales);\n\nvar detectVertical = function detectVertical(d) {\n  return [positionLeft, positionRight].indexOf(d) > -1;\n};\n\nvar detectRTL = function detectRTL(d) {\n  return [positionTop, positionRight].indexOf(d) > -1;\n};\n\nfunction buildAxisLinear(_ref) {\n  var _ref$axis = _ref.axis,\n      primary = _ref$axis.primary,\n      type = _ref$axis.type,\n      invert = _ref$axis.invert,\n      position = _ref$axis.position,\n      primaryAxisID = _ref$axis.primaryAxisID,\n      _ref$axis$min = _ref$axis.min,\n      userMin = _ref$axis$min === void 0 ? undefined : _ref$axis$min,\n      _ref$axis$max = _ref$axis.max,\n      userMax = _ref$axis$max === void 0 ? undefined : _ref$axis$max,\n      _ref$axis$hardMin = _ref$axis.hardMin,\n      hardMin = _ref$axis$hardMin === void 0 ? undefined : _ref$axis$hardMin,\n      _ref$axis$hardMax = _ref$axis.hardMax,\n      hardMax = _ref$axis$hardMax === void 0 ? undefined : _ref$axis$hardMax,\n      _ref$axis$base = _ref$axis.base,\n      base = _ref$axis$base === void 0 ? undefined : _ref$axis$base,\n      _ref$axis$tickCount = _ref$axis.tickCount,\n      tickCount = _ref$axis$tickCount === void 0 ? 'auto' : _ref$axis$tickCount,\n      _ref$axis$minTickCoun = _ref$axis.minTickCount,\n      minTickCount = _ref$axis$minTickCoun === void 0 ? 0 : _ref$axis$minTickCoun,\n      _ref$axis$maxTickCoun = _ref$axis.maxTickCount,\n      maxTickCount = _ref$axis$maxTickCoun === void 0 ? Infinity : _ref$axis$maxTickCoun,\n      _ref$axis$tickValues = _ref$axis.tickValues,\n      tickValues = _ref$axis$tickValues === void 0 ? null : _ref$axis$tickValues,\n      _ref$axis$tickFormat = _ref$axis.tickFormat,\n      tickFormat = _ref$axis$tickFormat === void 0 ? null : _ref$axis$tickFormat,\n      _ref$axis$tickSizeInn = _ref$axis.tickSizeInner,\n      tickSizeInner = _ref$axis$tickSizeInn === void 0 ? 6 : _ref$axis$tickSizeInn,\n      _ref$axis$tickSizeOut = _ref$axis.tickSizeOuter,\n      tickSizeOuter = _ref$axis$tickSizeOut === void 0 ? 6 : _ref$axis$tickSizeOut,\n      _ref$axis$tickPadding = _ref$axis.tickPadding,\n      tickPadding = _ref$axis$tickPadding === void 0 ? 14 : _ref$axis$tickPadding,\n      _ref$axis$maxLabelRot = _ref$axis.maxLabelRotation,\n      maxLabelRotation = _ref$axis$maxLabelRot === void 0 ? 50 : _ref$axis$maxLabelRot,\n      _ref$axis$labelRotati = _ref$axis.labelRotationStep,\n      labelRotationStep = _ref$axis$labelRotati === void 0 ? 5 : _ref$axis$labelRotati,\n      _ref$axis$innerPaddin = _ref$axis.innerPadding,\n      innerPadding = _ref$axis$innerPaddin === void 0 ? 0.2 : _ref$axis$innerPaddin,\n      _ref$axis$outerPaddin = _ref$axis.outerPadding,\n      outerPadding = _ref$axis$outerPaddin === void 0 ? 0.1 : _ref$axis$outerPaddin,\n      _ref$axis$showGrid = _ref$axis.showGrid,\n      showGrid = _ref$axis$showGrid === void 0 ? null : _ref$axis$showGrid,\n      _ref$axis$showTicks = _ref$axis.showTicks,\n      showTicks = _ref$axis$showTicks === void 0 ? true : _ref$axis$showTicks,\n      _ref$axis$show = _ref$axis.show,\n      show = _ref$axis$show === void 0 ? true : _ref$axis$show,\n      _ref$axis$stacked = _ref$axis.stacked,\n      stacked = _ref$axis$stacked === void 0 ? false : _ref$axis$stacked,\n      userID = _ref$axis.id,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions;\n\n  if (!position) {\n    throw new Error(\"Chart axes must have a valid 'position' property\");\n  } // Detect some settings\n\n\n  var valueKey = primary ? 'primary' : 'secondary';\n  var groupKey = !primary && 'primary';\n  var AxisIDKey = \"\".concat(valueKey, \"AxisID\");\n  var vertical = detectVertical(position);\n  var RTL = detectRTL(position); // Right to left OR top to bottom\n\n  var id = userID || \"\".concat(position, \"_\").concat(type); // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n  // First we need to find unique values, min/max values and negative/positive totals\n\n  var uniqueVals = [];\n  var min;\n  var max;\n  var negativeTotalByKey = {};\n  var positiveTotalByKey = {};\n  var domain;\n  var axisDimension = axisDimensions && axisDimensions[position] && axisDimensions[position][id]; // Loop through each series\n\n  for (var seriesIndex = 0; seriesIndex < materializedData.length; seriesIndex++) {\n    if (materializedData[seriesIndex][AxisIDKey] && materializedData[seriesIndex][AxisIDKey] !== id) {\n      continue;\n    } // Loop through each datum\n\n\n    for (var datumIndex = 0; datumIndex < materializedData[seriesIndex].datums.length; datumIndex++) {\n      var datum = materializedData[seriesIndex].datums[datumIndex];\n      var value = void 0;\n      var key = groupKey ? datum[groupKey] : datumIndex; // For ordinal scales, unique the values\n\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(materializedData[seriesIndex].datums[datumIndex][valueKey]);\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey];\n      } else {\n        value = datum[valueKey];\n      } // Add to stack total\n\n\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] = typeof positiveTotalByKey[key] !== 'undefined' ? positiveTotalByKey[key] + value : value;\n        } else {\n          negativeTotalByKey[key] = typeof negativeTotalByKey[key] !== 'undefined' ? negativeTotalByKey[key] + value : value;\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== 'undefined' ? Math.min(min, value) : value;\n        max = typeof max !== 'undefined' ? Math.max(max, value) : value;\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals;\n  } else if (stacked) {\n    domain = [Math.min.apply(Math, [0].concat(_toConsumableArray(Object.values(negativeTotalByKey)))), Math.max.apply(Math, [0].concat(_toConsumableArray(Object.values(positiveTotalByKey))))];\n  } else {\n    domain = [min, max];\n  } // Now we need to figure out the range\n\n\n  var range = [0, vertical ? gridHeight : gridWidth]; // axes by default read from top to bottom and left to right\n\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse();\n  } // Give the scale a home\n\n\n  var scale; // If this is an ordinal or other primary axis, it needs to be able to display bars.\n\n  var bandScale;\n  var barSize = 0;\n  var cursorSize = 0;\n  var stepSize = 0;\n\n  var seriesBandScale = function seriesBandScale(d) {\n    return d;\n  };\n\n  var seriesBarSize = 1;\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = band().domain(materializedData.reduce(function (prev, current) {\n      return current.datums.length > prev.length ? current.datums : prev;\n    }, []).map(function (d) {\n      return d.primary;\n    })).rangeRound(range, 0.1).padding(0);\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding);\n    barSize = bandScale.bandwidth();\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize;\n    } // barSize = bandScale.bandwidth()\n\n\n    stepSize = bandScale.step(); // Create a seriesBandScale in case this axis isn't stacked\n\n    seriesBandScale = band().paddingInner(innerPadding / 2).domain(materializedData.filter(function (d) {\n      return d.Component === Bar;\n    }).map(function (d, i) {\n      return i;\n    })).rangeRound([0, barSize]);\n    seriesBarSize = seriesBandScale.bandwidth();\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale;\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]();\n  } // Set base, min, and max\n\n\n  if (typeof base === 'number') {\n    domain[0] = Math.min(domain[0], base);\n    domain[1] = Math.max(domain[1], base);\n  }\n\n  if (typeof defaultMin === 'number') {\n    domain[0] = Math.min(domain[0], userMin);\n  }\n\n  if (typeof defaultMax === 'number') {\n    domain[1] = Math.max(domain[1], userMax);\n  } // Set the domain\n\n\n  scale.domain(domain); // If we're not using an ordinal scale, round the ticks to \"nice\" values\n\n  if (type !== axisTypeOrdinal) {\n    scale.nice();\n  } // If hard min and max are set, override any \"nice\" rounding values\n\n\n  if (typeof hardMin === 'number') {\n    scale.domain([hardMin, scale.domain()[1]]);\n  }\n\n  if (typeof hardMax === 'number') {\n    scale.domain([scale.domain()[0], hardMax]);\n  } // Invert if necessary\n\n\n  if (invert) {\n    scale.domain(_toConsumableArray(scale.domain()).reverse());\n  } // Now set the range\n\n\n  scale.range(range); // Pass down the axis config (including the scale itself) for posterity\n\n  var axis = {\n    id: id,\n    primary: primary,\n    type: type,\n    invert: invert,\n    position: position,\n    primaryAxisID: primaryAxisID,\n    hardMin: hardMin,\n    hardMax: hardMax,\n    base: base,\n    tickCount: tickCount,\n    minTickCount: minTickCount,\n    maxTickCount: maxTickCount,\n    tickValues: tickValues,\n    tickFormat: tickFormat,\n    tickSizeInner: tickSizeInner,\n    tickSizeOuter: tickSizeOuter,\n    tickPadding: tickPadding,\n    maxLabelRotation: maxLabelRotation,\n    labelRotationStep: labelRotationStep,\n    innerPadding: innerPadding,\n    outerPadding: outerPadding,\n    showGrid: showGrid,\n    showTicks: showTicks,\n    show: show,\n    stacked: stacked,\n    scale: scale,\n    uniqueVals: uniqueVals,\n    vertical: vertical,\n    RTL: RTL,\n    barSize: barSize,\n    cursorSize: cursorSize,\n    stepSize: stepSize,\n    seriesBandScale: seriesBandScale,\n    seriesBarSize: seriesBarSize,\n    domain: domain,\n    range: range,\n    max: position === positionBottom ? -gridHeight : position === positionLeft ? gridWidth : position === positionTop ? gridHeight : -gridWidth,\n    directionMultiplier: position === positionTop || position === positionLeft ? -1 : 1,\n    transform: !vertical ? Utils.translateX : Utils.translateY,\n    ticks: tickValues || scale.ticks ? scale.ticks(tickCount === 'auto' ? axisDimension ? axisDimension.tickCount : 10 : tickCount) : scale.domain(),\n    format: tickFormat || scale.tickFormat ? tickFormat || scale.tickFormat(tickFormat) : Utils.identity,\n    spacing: Math.max(tickSizeInner, 0) + tickPadding\n  };\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2;\n    axis.tickOffset = axis.barSize / 2;\n    axis.barOffset = 0;\n  } else {\n    axis.tickOffset = 0;\n    axis.barOffset = -axis.barSize / 2;\n  }\n\n  return axis;\n} // import buildAxisPie from './buildAxis.pie'\n\n\nfunction buildAxis(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n\nvar axisShape = PropTypes.shape({\n  primary: PropTypes.bool,\n  type: PropTypes.oneOf([axisTypeOrdinal, axisTypeTime, axisTypeUtc, axisTypeLinear, axisTypeLog]).isRequired,\n  invert: PropTypes.bool,\n  position: PropTypes.oneOf([positionTop, positionRight, positionBottom, positionLeft]),\n  primaryAxisID: PropTypes.any,\n  min: PropTypes.any,\n  max: PropTypes.any,\n  hardMin: PropTypes.any,\n  hardMax: PropTypes.any,\n  base: PropTypes.any,\n  ticks: PropTypes.any,\n  tickValues: PropTypes.any,\n  tickFormat: PropTypes.func,\n  tickSizeInner: PropTypes.number,\n  tickSizeOuter: PropTypes.number,\n  tickPadding: PropTypes.number,\n  maxLabelRotation: PropTypes.number,\n  innerPadding: PropTypes.number,\n  outerPadding: PropTypes.number,\n  showGrid: PropTypes.bool,\n  showTicks: PropTypes.bool,\n  show: PropTypes.bool,\n  stacked: PropTypes.bool,\n  id: PropTypes.any\n});\n\nvar calculateAxes = function calculateAxes(_ref) {\n  var axes = _ref.axes,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions; // Detect axes changes and build axes\n\n  var prePrimaryAxes = axes.filter(function (d) {\n    return d.primary;\n  });\n  var preSecondaryAxes = axes.filter(function (d) {\n    return !d.primary;\n  });\n  var primaryAxesHashes = JSON.stringify(prePrimaryAxes);\n  var secondaryAxesHashes = JSON.stringify(preSecondaryAxes); // Calculate primary axes\n\n  var primaryAxes = React.useMemo(function () {\n    return prePrimaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [primaryAxesHashes, materializedData, gridHeight, gridWidth]); // Calculate secondary axes\n\n  var secondaryAxes = React.useMemo(function () {\n    return preSecondaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        primaryAxes: primaryAxes,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [secondaryAxesHashes, materializedData, gridHeight, gridWidth]); // Make sure we're mapping x and y to the correct axes\n\n  var xKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'secondary' : 'primary';\n  var yKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'primary' : 'secondary';\n  var xAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? secondaryAxes : primaryAxes;\n  var yAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? primaryAxes : secondaryAxes;\n  return {\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    xKey: xKey,\n    yKey: yKey,\n    xAxes: xAxes,\n    yAxes: yAxes\n  };\n};\n\nvar defaultColors = ['#4ab5eb', '#fc6868', '#DECF3F', '#60BD68', '#FAA43A', '#c63b89', '#1aaabe', '#734fe9', '#1828bd', '#cd82ad'];\n\nvar calculateStackData = function calculateStackData(_ref) {\n  var materializedData = _ref.materializedData,\n      primaryAxes = _ref.primaryAxes,\n      secondaryAxes = _ref.secondaryAxes,\n      yAxes = _ref.yAxes,\n      yKey = _ref.yKey,\n      xAxes = _ref.xAxes,\n      xKey = _ref.xKey,\n      grouping = _ref.grouping; // Make stackData\n\n  return React.useMemo(function () {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!');\n    } // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n\n\n    var scaleTotals = secondaryAxes.map(function () {\n      return {};\n    });\n    materializedData.forEach(function (series) {\n      var axisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      series.datums.forEach(function (datum) {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0\n        };\n      });\n    }); // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n\n    var stackData = materializedData.map(function (series) {\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      return _objectSpread({}, series, {\n        datums: series.datums.map(function (d) {\n          var datum = _objectSpread({}, d, {\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0\n          });\n\n          if (secondaryAxis.stacked) {\n            var start = scaleTotals[secondaryAxisIndex][d.primary]; // Stack the x or y values (according to axis positioning)\n\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              var validPoint = Utils.isValidPoint(datum.xValue); // Should we use positive or negative base?\n\n              var totalKey = datum.xValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n              datum.baseValue = start[totalKey]; // Add the value for a total\n\n              datum.totalValue = datum.baseValue + (validPoint ? datum.xValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.xValue = validPoint ? datum.totalValue : null;\n            } else {\n              // Is this a valid point?\n              var _validPoint = Utils.isValidPoint(datum.yValue); // Should we use positive or negative base?\n\n\n              var _totalKey = datum.yValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n\n              datum.baseValue = start[_totalKey]; // Add the value to the base\n\n              datum.totalValue = datum.baseValue + (_validPoint ? datum.yValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][_totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.yValue = _validPoint ? datum.totalValue : null;\n            }\n          }\n\n          return datum;\n        })\n      });\n    });\n    stackData.forEach(function (series) {\n      series.datums.forEach(function (datum) {\n        datum.series = series;\n      });\n    }); // Use the plotDatum method on each series\n\n    stackData.forEach(function (series, i) {\n      if (!series.Component.plotDatum) {\n        throw new Error(\"Could not find a [SeriesType].plotDatum() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      var xAxisIndex = Utils.getAxisIndexByAxisID(xAxes, series[\"\".concat(xKey, \"AxisID\")]);\n      var yAxisIndex = Utils.getAxisIndexByAxisID(yAxes, series[\"\".concat(yKey, \"AxisID\")]);\n      var xAxis = xAxes[xAxisIndex];\n      var yAxis = yAxes[yAxisIndex];\n      series.datums = series.datums.map(function (d) {\n        // Data for cartesian charts\n        var result = series.Component.plotDatum(d, {\n          primaryAxis: primaryAxis,\n          secondaryAxis: secondaryAxis,\n          xAxis: xAxis,\n          yAxis: yAxis\n        });\n        return result || d;\n      });\n    }); // Do any data grouping ahead of time using\n\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (var seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        var series = stackData[seriesIndex];\n\n        for (var datumIndex = 0; datumIndex < series.datums.length; datumIndex++) {\n          var datum = series.datums[datumIndex];\n          datum.group = grouping === groupingSeries ? datum.series.datums : [datum];\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      var datumsByGrouping = {};\n\n      for (var _seriesIndex = 0; _seriesIndex < stackData.length; _seriesIndex++) {\n        var _series = stackData[_seriesIndex];\n\n        for (var _datumIndex = 0; _datumIndex < _series.datums.length; _datumIndex++) {\n          var _datum = _series.datums[_datumIndex];\n\n          if (!_datum.defined) {\n            continue;\n          }\n\n          var axisKey = String(grouping === groupingPrimary ? _datum.primary : _datum.secondary);\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || [];\n          datumsByGrouping[axisKey].push(_datum);\n        }\n      }\n\n      for (var _seriesIndex2 = 0; _seriesIndex2 < stackData.length; _seriesIndex2++) {\n        var _series2 = stackData[_seriesIndex2];\n\n        for (var _datumIndex2 = 0; _datumIndex2 < _series2.datums.length; _datumIndex2++) {\n          var _datum2 = _series2.datums[_datumIndex2];\n\n          var _axisKey = String(grouping === groupingPrimary ? _datum2.primary : _datum2.secondary);\n\n          _datum2.group = datumsByGrouping[_axisKey];\n        }\n      }\n    } // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n\n\n    stackData = stackData.map(function (series, i) {\n      if (!series.Component.buildStyles) {\n        throw new Error(\"Could not find a SeriesType.buildStyles() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var result = series.Component.buildStyles(series, {\n        defaultColors: defaultColors\n      });\n      return result || series;\n    });\n    return stackData;\n  }, [primaryAxes, secondaryAxes, materializedData, grouping, xKey, yKey, xAxes, yAxes]);\n};\n\nvar showCount = 10;\n\nfunction TooltipRenderer(props) {\n  var datum = props.datum,\n      grouping = props.grouping,\n      primaryAxis = props.primaryAxis,\n      secondaryAxis = props.secondaryAxis,\n      formatSecondary = props.formatSecondary,\n      formatTertiary = props.formatTertiary,\n      getStyle = props.getStyle,\n      dark = props.dark;\n\n  if (!datum) {\n    return null;\n  }\n\n  var resolvedFormatSecondary = formatSecondary || function (val) {\n    return Math.floor(val) < val ? secondaryAxis.format(Math.round(val * 100) / 100) : secondaryAxis.format(val);\n  };\n\n  var resolvedFormatTertiary = formatTertiary || function (val) {\n    return Math.floor(val) < val ? Math.round(val * 100) / 100 : val;\n  };\n\n  var sortedGroupDatums = _toConsumableArray(datum.group).sort(function (a, b) {\n    if (!primaryAxis.stacked && grouping === groupingSeries || grouping === groupingSecondary) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1;\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1;\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1;\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1;\n      }\n    }\n\n    return a.seriesIndex > b.seriesIndex ? 1 : -1;\n  });\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse();\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse();\n  }\n\n  var resolvedShowCount = showCount;\n  var length = sortedGroupDatums.length; // Get the focused series' index\n\n  var activeIndex = sortedGroupDatums.findIndex(function (d) {\n    return d === datum;\n  }); // Get the start by going back half of the showCount\n\n  var start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0; // Make sure it's at least 0\n\n  start = Math.max(start, 0); // Use the start and add the showCount to get the end\n\n  var end = activeIndex > -1 ? start + resolvedShowCount : length; // Don't let the end go passed the length\n\n  end = Math.min(end, length); // Double check we aren't clipping the start\n\n  start = Math.max(end - resolvedShowCount, 0); // Slice the datums by start and end\n\n  var visibleSortedGroupDatums = sortedGroupDatums.slice(start, end); // Detect if we have previous items\n\n  var hasPrevious = start > 0; // Or next items\n\n  var hasNext = end < length;\n  return React.createElement(\"div\", null, React.createElement(\"div\", {\n    style: {\n      marginBottom: '3px',\n      textAlign: 'center'\n    }\n  }, grouping === groupingSeries ? React.createElement(\"strong\", null, datum.seriesLabel) : grouping === groupingSecondary ? React.createElement(\"strong\", null, secondaryAxis.format(datum.secondary)) : React.createElement(\"strong\", null, primaryAxis.format(datum.primary))), React.createElement(\"table\", {\n    style: {\n      whiteSpace: 'nowrap'\n    }\n  }, React.createElement(\"tbody\", null, hasPrevious ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, visibleSortedGroupDatums.map(function (sortedDatum, i) {\n    var active = sortedDatum === datum;\n    return React.createElement(\"tr\", {\n      key: i,\n      style: {\n        opacity: active ? 1 : 0.8,\n        fontWeight: active && 'bold'\n      }\n    }, React.createElement(\"td\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginRight: '5px'\n      }\n    }, React.createElement(\"svg\", {\n      width: \"16\",\n      height: \"16\"\n    }, React.createElement(\"circle\", {\n      cx: \"8\",\n      cy: \"8\",\n      r: \"7\",\n      style: _objectSpread({}, getStyle(sortedDatum), {\n        stroke: dark ? 'black' : 'white',\n        strokeWidth: active ? 2 : 1\n      })\n    }))), grouping === groupingSeries ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, primaryAxis.format(sortedDatum.primary), \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, resolvedFormatSecondary(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : grouping === groupingSecondary ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, primaryAxis.format(sortedDatum.primary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, resolvedFormatSecondary(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)));\n  }), hasNext ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? React.createElement(\"tr\", null, React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      width: '12px',\n      height: '12px',\n      backgroundColor: dark ? 'rgba(0, 26, 39, 0.3)' : 'rgba(255,255,255,.2)',\n      borderRadius: '50px'\n    }\n  })), React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, \"Total: \\xA0\"), React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, resolvedFormatSecondary(_toConsumableArray(datum.group).reverse()[0].totalValue))) : null)));\n}\n\nvar alignPropType = PropTypes.oneOf([alignAuto, alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom]);\nvar tooltipShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  align: alignPropType,\n  alignPriority: PropTypes.arrayOf(alignPropType),\n  padding: PropTypes.number,\n  tooltipArrowPadding: PropTypes.number,\n  anchor: PropTypes.oneOf([anchorPointer, anchorClosest, anchorCenter, anchorTop, anchorBottom, anchorLeft, anchorRight, anchorGridTop, anchorGridBottom, anchorGridLeft, anchorGridRight]),\n  render: PropTypes.func.required,\n  onChange: PropTypes.func\n})]);\n\nvar calculateTooltip = function calculateTooltip(_ref) {\n  var focused = _ref.focused,\n      tooltip = _ref.tooltip,\n      pointer = _ref.pointer,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n  return React.useMemo(function () {\n    if (!tooltip) {\n      return null;\n    } // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n    tooltip = _objectSpread({\n      align: alignAuto,\n      alignPriority: [alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: function onChange() {}\n    }, tooltip);\n    var anchor = {};\n    var show = true; // If there is a focused datum, default the focus to its x and y\n\n    if (focused) {\n      anchor = focused.anchor;\n    } else {\n      show = false;\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer;\n    } else if (tooltip.anchor === 'closest') ;else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      var multiFocus = Array.isArray(tooltip.anchor) ? _toConsumableArray(tooltip.anchor) : [tooltip.anchor];\n      anchor = Utils.getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight\n      });\n    }\n\n    anchor = anchor ? _objectSpread({\n      horizontalPadding: anchor.horizontalPadding || 0,\n      verticalPadding: anchor.verticalPadding || 0\n    }, anchor) : anchor;\n    return _objectSpread({}, tooltip, {\n      anchor: anchor,\n      show: show\n    });\n  }, [focused, gridHeight, gridWidth, pointer, tooltip]);\n};\n\nvar cursorShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  render: PropTypes.func,\n  snap: PropTypes.bool,\n  showLine: PropTypes.bool,\n  showLabel: PropTypes.bool,\n  axisID: PropTypes.any,\n  onChange: PropTypes.func\n})]);\nvar defaultCursorProps = {\n  render: function render(_ref) {\n    var formattedValue = _ref.formattedValue;\n    return React.createElement(\"span\", null, formattedValue);\n  },\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisID: undefined,\n  onChange: function onChange() {}\n};\n\nvar calculateCursors = function calculateCursors(_ref2) {\n  var primaryCursor = _ref2.primaryCursor,\n      secondaryCursor = _ref2.secondaryCursor,\n      primaryAxes = _ref2.primaryAxes,\n      secondaryAxes = _ref2.secondaryAxes,\n      focused = _ref2.focused,\n      pointer = _ref2.pointer,\n      gridWidth = _ref2.gridWidth,\n      gridHeight = _ref2.gridHeight,\n      stackData = _ref2.stackData;\n  return [primaryCursor, secondaryCursor].map(function (cursor, i) {\n    var cursorValue = cursor && cursor.value;\n    return React.useMemo(function () {\n      if (!cursor) {\n        return;\n      }\n\n      var primary = i === 0; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n      cursor = _objectSpread({}, defaultCursorProps, cursor, {\n        primary: primary\n      });\n      var value;\n      var show = false; // Determine the axis to use\n\n      var axis = Utils.getAxisByAxisID(primary ? primaryAxes : secondaryAxes, cursor.axisID || focused ? focused.series[primary ? 'primaryAxisID' : 'secondaryAxisID'] : undefined);\n      var siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]; // Resolve the invert function\n\n      var invert = axis.scale.invert || function (d) {\n        return d;\n      }; // If the pointer is active, try to show\n\n\n      if (pointer.active) {\n        // Default to cursor x and y\n        var x = pointer.x;\n        var y = pointer.y; // If the cursor isn't in the grid, don't display\n\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false;\n        } else {\n          show = true;\n        } // Implement snapping\n\n\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false;\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue;\n            } else {\n              value = focused.xValue;\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y);\n        } else {\n          value = invert(x);\n        }\n      } else {\n        show = false;\n      }\n\n      var resolvedShow = show;\n      var resolvedValue = value;\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value;\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show;\n        } else {\n          resolvedShow = true;\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false;\n        }\n      }\n\n      return _objectSpread({}, cursor, {\n        axis: axis,\n        siblingAxis: siblingAxis,\n        show: show,\n        value: value,\n        resolvedShow: resolvedShow,\n        resolvedValue: resolvedValue\n      });\n    }, [stackData, pointer, cursorValue]);\n  });\n};\n\nvar defaultProps = {\n  getDatums: function getDatums(d) {\n    return Array.isArray(d) ? d : d.datums || d.data;\n  },\n  getLabel: function getLabel(d, i) {\n    return d.label || \"Series \".concat(i + 1);\n  },\n  getSeriesID: function getSeriesID(d, i) {\n    return i;\n  },\n  getPrimary: function getPrimary(d) {\n    return Array.isArray(d) ? d[0] : d.primary || d.x;\n  },\n  getSecondary: function getSecondary(d) {\n    return Array.isArray(d) ? d[1] : d.secondary || d.y;\n  },\n  getR: function getR(d) {\n    return Array.isArray(d) ? d[2] : d.radius || d.r;\n  },\n  getPrimaryAxisID: function getPrimaryAxisID(s) {\n    return s.primaryAxisID;\n  },\n  getSecondaryAxisID: function getSecondaryAxisID(s) {\n    return s.secondaryAxisID;\n  },\n  getSeriesStyle: function getSeriesStyle(series) {\n    return {\n      color: series.originalSeries.color\n    };\n  },\n  getDatumStyle: function getDatumStyle() {\n    return {};\n  },\n  getSeriesOrder: function getSeriesOrder(d) {\n    return d;\n  },\n  onHover: function onHover() {},\n  grouping: groupingPrimary,\n  focus: focusAuto,\n  showVoronoi: false\n};\n\nfunction Chart(_ref) {\n  var data = _ref.data,\n      grouping = _ref.grouping,\n      focus = _ref.focus,\n      showVoronoi = _ref.showVoronoi,\n      dark = _ref.dark,\n      series = _ref.series,\n      axes = _ref.axes,\n      primaryCursor = _ref.primaryCursor,\n      secondaryCursor = _ref.secondaryCursor,\n      tooltip = _ref.tooltip,\n      brush = _ref.brush,\n      renderSVG = _ref.renderSVG,\n      getDatums = _ref.getDatums,\n      getLabel = _ref.getLabel,\n      getSeriesID = _ref.getSeriesID,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getSeriesStyle = _ref.getSeriesStyle,\n      getDatumStyle = _ref.getDatumStyle,\n      onClick = _ref.onClick,\n      onFocus = _ref.onFocus,\n      onHover = _ref.onHover,\n      getSeriesOrder = _ref.getSeriesOrder,\n      rest = _objectWithoutProperties(_ref, [\"data\", \"grouping\", \"focus\", \"showVoronoi\", \"dark\", \"series\", \"axes\", \"primaryCursor\", \"secondaryCursor\", \"tooltip\", \"brush\", \"renderSVG\", \"getDatums\", \"getLabel\", \"getSeriesID\", \"getPrimary\", \"getSecondary\", \"getR\", \"getPrimaryAxisID\", \"getSecondaryAxisID\", \"getSeriesStyle\", \"getDatumStyle\", \"onClick\", \"onFocus\", \"onHover\", \"getSeriesOrder\"]);\n\n  var _React$useState = React.useState({\n    focused: null,\n    element: null,\n    axisDimensions: {},\n    padding: {},\n    offset: {},\n    pointer: {}\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      focused = _React$useState2$.focused,\n      element = _React$useState2$.element,\n      axisDimensions = _React$useState2$.axisDimensions,\n      offsetState = _React$useState2$.offset,\n      padding = _React$useState2$.padding,\n      pointer = _React$useState2$.pointer,\n      setChartState = _React$useState2[1];\n\n  var onClickRef = useLatestRef(onClick);\n  var onFocusRef = useLatestRef(onFocus);\n  var onHoverRef = useLatestRef(onHover);\n  var responsiveElRef = React.useRef();\n\n  var _useHyperResponsive = useHyperResponsive(responsiveElRef),\n      _useHyperResponsive2 = _slicedToArray(_useHyperResponsive, 1),\n      _useHyperResponsive2$ = _useHyperResponsive2[0],\n      width = _useHyperResponsive2$.width,\n      height = _useHyperResponsive2$.height;\n\n  getSeriesID = React.useCallback(Utils.normalizeGetter(getSeriesID), getSeriesID);\n  getLabel = React.useCallback(Utils.normalizeGetter(getLabel), getLabel);\n  getPrimaryAxisID = React.useCallback(Utils.normalizeGetter(getPrimaryAxisID), getPrimaryAxisID);\n  getSecondaryAxisID = React.useCallback(Utils.normalizeGetter(getSecondaryAxisID), getSecondaryAxisID);\n  getDatums = React.useCallback(Utils.normalizeGetter(getDatums), getDatums);\n  getPrimary = React.useCallback(Utils.normalizeGetter(getPrimary), getPrimary);\n  getSecondary = React.useCallback(Utils.normalizeGetter(getSecondary), getSecondary);\n  getR = React.useCallback(Utils.normalizeGetter(getR), getR);\n  var materializedData = calculateMaterializeData({\n    data: data,\n    getSeriesID: getSeriesID,\n    getLabel: getLabel,\n    getPrimaryAxisID: getPrimaryAxisID,\n    getSecondaryAxisID: getSecondaryAxisID,\n    getDatums: getDatums,\n    getPrimary: getPrimary,\n    getSecondary: getSecondary,\n    getR: getR\n  });\n  var seriesOptions = calculateSeriesOptions({\n    materializedData: materializedData,\n    series: series\n  });\n  materializedData = calculateSeriesTypes({\n    materializedData: materializedData,\n    seriesOptions: seriesOptions\n  });\n\n  var _calculateDimensions = calculateDimensions({\n    width: width,\n    height: height,\n    axisDimensions: axisDimensions,\n    padding: padding,\n    offset: offsetState\n  }),\n      offset = _calculateDimensions.offset,\n      gridX = _calculateDimensions.gridX,\n      gridY = _calculateDimensions.gridY,\n      gridWidth = _calculateDimensions.gridWidth,\n      gridHeight = _calculateDimensions.gridHeight;\n\n  var _calculateAxes = calculateAxes({\n    axes: axes,\n    materializedData: materializedData,\n    gridHeight: gridHeight,\n    gridWidth: gridWidth,\n    axisDimensions: axisDimensions\n  }),\n      primaryAxes = _calculateAxes.primaryAxes,\n      secondaryAxes = _calculateAxes.secondaryAxes,\n      xKey = _calculateAxes.xKey,\n      yKey = _calculateAxes.yKey,\n      xAxes = _calculateAxes.xAxes,\n      yAxes = _calculateAxes.yAxes;\n\n  var stackData = calculateStackData({\n    materializedData: materializedData,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    yAxes: yAxes,\n    yKey: yKey,\n    xAxes: xAxes,\n    xKey: xKey,\n    grouping: grouping\n  });\n  pointer = React.useMemo(function () {\n    return _objectSpread({}, pointer, {\n      axisValues: [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n        return {\n          axis: axis,\n          value: axis.scale.invert ? axis.scale.invert(pointer[axis.vertical ? 'y' : 'x']) : null\n        };\n      })\n    });\n  }, [pointer, primaryAxes, secondaryAxes]);\n  focused = React.useMemo(function () {\n    // Get the closest focus datum out of the datum group\n    if (focused || element) {\n      var resolvedFocus = focus;\n\n      if (focus === focusAuto) {\n        if (element) {\n          resolvedFocus = focusElement;\n        } else {\n          resolvedFocus = focusClosest;\n        }\n      }\n\n      if (resolvedFocus === focusElement && element) {\n        return element;\n      } else if (resolvedFocus === focusClosest) {\n        return Utils.getClosestPoint(pointer, focused.group);\n      }\n    }\n\n    return null;\n  }, [element, focus, focused, pointer]); // keep the previous focused value around for animations\n\n  var latestFocused = useLatest(focused, focused); // Calculate Tooltip\n\n  tooltip = calculateTooltip({\n    focused: focused,\n    tooltip: tooltip,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  }) // Cursors\n  ;\n\n  var _calculateCursors = calculateCursors({\n    primaryCursor: primaryCursor,\n    secondaryCursor: secondaryCursor,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    focused: focused,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight,\n    stackData: stackData\n  });\n\n  var _calculateCursors2 = _slicedToArray(_calculateCursors, 2);\n\n  primaryCursor = _calculateCursors2[0];\n  secondaryCursor = _calculateCursors2[1];\n  React.useEffect(function () {\n    if (onFocusRef.current) {\n      onFocusRef.current(focused);\n    }\n  }, [onFocusRef, focused]);\n  React.useEffect(function () {\n    if (onHoverRef.current) {\n      onHoverRef.current(pointer);\n    }\n  }, [onHoverRef, pointer]);\n  var previousDragging = usePrevious(pointer.dragging);\n  React.useEffect(function () {\n    if (brush && previousDragging && !pointer.dragging) {\n      if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n        return;\n      }\n\n      brush.onSelect({\n        pointer: pointer.released,\n        start: primaryAxes[0].scale.invert(pointer.sourceX),\n        end: primaryAxes[0].scale.invert(pointer.x)\n      });\n    }\n  }, [brush, pointer, pointer.released, pointer.sourceX, pointer.x, previousDragging, primaryAxes]); // Decorate the chartState with computed values (or ones we just\n  // want to pass down through context)\n\n  var chartState = React.useMemo(function () {\n    return {\n      focused: focused,\n      latestFocused: latestFocused,\n      pointer: pointer,\n      tooltip: tooltip,\n      axisDimensions: axisDimensions,\n      offset: offset,\n      padding: padding,\n      width: width,\n      height: height,\n      brush: brush,\n      grouping: grouping,\n      showVoronoi: showVoronoi,\n      materializedData: materializedData,\n      stackData: stackData,\n      primaryAxes: primaryAxes,\n      secondaryAxes: secondaryAxes,\n      primaryCursor: primaryCursor,\n      secondaryCursor: secondaryCursor,\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight,\n      dark: dark,\n      renderSVG: renderSVG,\n      xKey: xKey,\n      yKey: yKey,\n      xAxes: xAxes,\n      yAxes: yAxes,\n      onClickRef: onClickRef,\n      getSeriesStyle: getSeriesStyle,\n      getDatumStyle: getDatumStyle,\n      seriesOptions: seriesOptions,\n      getSeriesOrder: getSeriesOrder\n    };\n  }, [axisDimensions, brush, dark, focused, getDatumStyle, getSeriesOrder, getSeriesStyle, gridHeight, gridWidth, gridX, gridY, grouping, height, latestFocused, materializedData, offset, onClickRef, padding, pointer, primaryAxes, primaryCursor, renderSVG, secondaryAxes, secondaryCursor, seriesOptions, showVoronoi, stackData, tooltip, width, xAxes, xKey, yAxes, yKey]);\n  var chartStateContextValue = React.useMemo(function () {\n    return [chartState, setChartState];\n  }, [chartState, setChartState]);\n  return React.createElement(ChartContext.Provider, {\n    value: chartStateContextValue\n  }, React.createElement(ChartInner, _extends({\n    ref: responsiveElRef\n  }, rest, {\n    onClick: function onClick(e) {\n      if (onClickRef.current) {\n        onClickRef.current(focused);\n      }\n    }\n  })));\n}\n\nChart.propTypes = {\n  data: PropTypes.any.isRequired,\n  focus: PropTypes.oneOf([focusAuto, focusClosest, focusElement]).isRequired,\n  grouping: PropTypes.oneOf([groupingSingle, groupingSeries, groupingPrimary, groupingSecondary]).isRequired,\n  showVoronoi: PropTypes.bool,\n  dark: PropTypes.bool,\n  series: seriesPropType,\n  axes: PropTypes.arrayOf(axisShape),\n  primaryCursor: cursorShape,\n  secondaryCursor: cursorShape,\n  tooltip: tooltipShape,\n  renderSVG: PropTypes.func,\n  getDatums: PropTypes.func.isRequired,\n  getLabel: PropTypes.func.isRequired,\n  getSeriesID: PropTypes.func.isRequired,\n  getPrimary: PropTypes.func.isRequired,\n  getSecondary: PropTypes.func.isRequired,\n  getR: PropTypes.func.isRequired,\n  getPrimaryAxisID: PropTypes.func.isRequired,\n  getSecondaryAxisID: PropTypes.func.isRequired,\n  getSeriesOrder: PropTypes.func.isRequired,\n  getSeriesStyle: PropTypes.func,\n  getDatumStyle: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onHover: PropTypes.func\n};\nChart.defaultProps = defaultProps;\nexports.Chart = Chart;\nexports.alignAuto = alignAuto;\nexports.alignBottom = alignBottom;\nexports.alignBottomLeft = alignBottomLeft;\nexports.alignBottomRight = alignBottomRight;\nexports.alignLeft = alignLeft;\nexports.alignRight = alignRight;\nexports.alignTop = alignTop;\nexports.alignTopLeft = alignTopLeft;\nexports.alignTopRight = alignTopRight;\nexports.anchorBottom = anchorBottom;\nexports.anchorCenter = anchorCenter;\nexports.anchorClosest = anchorClosest;\nexports.anchorGridBottom = anchorGridBottom;\nexports.anchorGridLeft = anchorGridLeft;\nexports.anchorGridRight = anchorGridRight;\nexports.anchorGridTop = anchorGridTop;\nexports.anchorLeft = anchorLeft;\nexports.anchorPointer = anchorPointer;\nexports.anchorRight = anchorRight;\nexports.anchorTop = anchorTop;\nexports.axisTypeLinear = axisTypeLinear;\nexports.axisTypeLog = axisTypeLog;\nexports.axisTypeOrdinal = axisTypeOrdinal;\nexports.axisTypeTime = axisTypeTime;\nexports.axisTypeUtc = axisTypeUtc;\nexports.curveBasis = basis;\nexports.curveBasisClosed = basisClosed;\nexports.curveBasisOpen = basisOpen;\nexports.curveBundle = bundle;\nexports.curveCardinal = cardinal;\nexports.curveCardinalClosed = cardinalClosed;\nexports.curveCardinalOpen = cardinalOpen;\nexports.curveCatmullRom = catmullRom;\nexports.curveCatmullRomClosed = catmullRomClosed;\nexports.curveCatmullRomOpen = catmullRomOpen;\nexports.curveLinear = curveLinear;\nexports.curveLinearClosed = linearClosed;\nexports.curveMonotoneX = monotoneX;\nexports.curveMonotoneY = monotoneY;\nexports.curveNatural = natural;\nexports.curveStep = step;\nexports.curveStepAfter = stepAfter;\nexports.curveStepBefore = stepBefore;\nexports.focusAuto = focusAuto;\nexports.focusClosest = focusClosest;\nexports.focusElement = focusElement;\nexports.groupingPrimary = groupingPrimary;\nexports.groupingSecondary = groupingSecondary;\nexports.groupingSeries = groupingSeries;\nexports.groupingSingle = groupingSingle;\nexports.positionBottom = positionBottom;\nexports.positionLeft = positionLeft;\nexports.positionRight = positionRight;\nexports.positionTop = positionTop;","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n"],"sourceRoot":""}